<?xml version="1.0" encoding="UTF-8"?>
<SceneFlow id="" name="AAMAS" comment="" hideLocalVar="false" hideGlobalVar="false" modifDate="Mi, 2 Nov 2016 16:06:39" start="S18;" context="" package="" xmlns="xml.sceneflow.dfki.de" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="xml.sceneflow.dfki.de res/xsd/sceneflow.xsd">
  <Define>
  </Define>
  <Declare>
    <Variable type="String" name ="SystemTime">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserRole">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentRole">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserAction">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentAction">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserGaze">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentGaze">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserSpeech">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="Bool" name ="UserAttendant">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentAttendant">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserSpeaking">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentSpeaking">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserOverlapsAgent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentOverlapsUser">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserBargesInAgent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserBearsUpAgent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentIsInterrupted">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentIsDisregarded">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentInterruptible">
      <Bool value="true"/>
    </Variable>
  </Declare>
  <Commands>
  </Commands>
  <LocalVariableBadge>
    <Position xPos="4" yPos="-37"/>
  </LocalVariableBadge>
  <GlobalVariableBadge>
    <Position xPos="10" yPos="10"/>
  </GlobalVariableBadge>
  <SuperNode id="S56" name="Interaction;and;Behavior;Model" comment="" hideLocalVar="false" hideGlobalVar="false" start="S20;S21;S40;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
      <Play>
        <String><![CDATA[[wizard refresh]]]></String>
      </Play>
      <Play>
        <String><![CDATA[[wizard output text=interaction]]]></String>
      </Play>
    </Commands>
    <Graphics>
      <Position xPos="586" yPos="106"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="1" yPos="1"/>
    </GlobalVariableBadge>
    <Node id="N99" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="266" yPos="26"/>
      </Graphics>
    </Node>
    <SuperNode id="S2" name="Role- and;Context;Dependent;Interpreting" comment="" hideLocalVar="false" hideGlobalVar="false" start="S87;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="506" yPos="266"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N198" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="186"/>
        </Graphics>
      </Node>
      <SuperNode id="S4" name="Handle Conflicts" comment="" hideLocalVar="false" hideGlobalVar="false" start="S15;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N10" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="186" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S15" name="Uninterruptible" comment="" hideLocalVar="false" hideGlobalVar="false" start="S19;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S25" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="266" yPos="186" ctrlXPos="286" ctrlYPos="166"/>
                <ControlPoint xPos="346" yPos="186" ctrlXPos="326" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            <Variable name="AgentInterruptible"/>
          </IEdge>
          <Graphics>
            <Position xPos="186" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N11" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="186" yPos="106"/>
            </Graphics>
          </Node>
          <SuperNode id="S19" name="No Conflict" comment="" hideLocalVar="false" hideGlobalVar="false" start="N27;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S24" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="346" yPos="186" ctrlXPos="326" ctrlYPos="166"/>
                  <ControlPoint xPos="266" yPos="186" ctrlXPos="286" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Variable name="UserBearsUpAgent"/>
            </IEdge>
            <IEdge target="S23" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Variable name="UserBargesInAgent"/>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N17" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N27" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <TEdge target="N27" start="" timeout="1000">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </TEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S23" name="Ignore" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S19" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
                <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N28" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S24" name="Ignore" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S19" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="266" yPos="266" ctrlXPos="286" ctrlYPos="286"/>
                <ControlPoint xPos="346" yPos="266" ctrlXPos="326" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="186" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N47" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S25" name="Interruptible" comment="" hideLocalVar="false" hideGlobalVar="false" start="S11;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S15" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="266" ctrlXPos="326" ctrlYPos="286"/>
                <ControlPoint xPos="266" yPos="266" ctrlXPos="286" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            <Not>
              <Variable name="AgentInterruptible"/>
            </Not>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N49" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="186" yPos="106"/>
            </Graphics>
          </Node>
          <SuperNode id="S8" name="Handle" comment="" hideLocalVar="false" hideGlobalVar="false" start="N23;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S11" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
                <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Comment>
              <Graphics>
                <Boundary xPos="272" yPos="127" width="187" height="64"/>
              </Graphics>
              <Text style="color:blue">
                Issue: Basically the stop signal should not make problems if the user is not speaking or id it comes late.
              </Text>
            </Comment>
            <Comment>
              <Graphics>
                <Boundary xPos="514" yPos="120" width="245" height="65"/>
              </Graphics>
              <Text style="color:blue">
                Issue: Basically there should be no need to wait because the notification for the stop signal should come after the agent stopped speaking.
              </Text>
            </Comment>
            <Comment>
              <Graphics>
                <Boundary xPos="361" yPos="304" width="193" height="73"/>
              </Graphics>
              <Text style="color:blue">
                Question: Does the stop command return with a notification, no matter if TTS was aborted or not, and, does the notification come after the abortion? Maybe test this with Reeti to check if the TWorls has an error?
              </Text>
            </Comment>
            <Node id="N2" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N15" name="Interrupt" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentIsInterrupted"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
                <Assign>
                  <Variable name="AgentIsInterrupted"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N16" name="Abort Speech" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Play>
                  <String><![CDATA[[tom StopSpeaking]]]></String>
                </Play>
              </Commands>
              <EEdge target="N22" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                  <ControlPoint xPos="586" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="426" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N22" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <TEdge target="N15" start="" timeout="50">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
                  <ControlPoint xPos="746" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              </TEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N23" name="Check" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N16" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="266" yPos="226" ctrlXPos="326" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="366" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="UserSpeaking"/>
                  <Bool value="true"/>
                </Eq>
              </CEdge>
              <EEdge target="N15" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="261" yPos="246" ctrlXPos="408" ctrlYPos="408"/>
                  <ControlPoint xPos="758" yPos="254" ctrlXPos="604" ctrlYPos="408"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S11" name="No Conflict" comment="" hideLocalVar="false" hideGlobalVar="false" start="N5;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S12" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="346" yPos="186" ctrlXPos="326" ctrlYPos="166"/>
                  <ControlPoint xPos="266" yPos="186" ctrlXPos="286" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Variable name="UserBearsUpAgent"/>
            </IEdge>
            <IEdge target="S8" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Variable name="UserBargesInAgent"/>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N4" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N5" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <TEdge target="N5" start="" timeout="1000">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </TEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S12" name="Handle" comment="" hideLocalVar="false" hideGlobalVar="false" start="N18;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S11" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="266" yPos="266" ctrlXPos="286" ctrlYPos="286"/>
                <ControlPoint xPos="346" yPos="266" ctrlXPos="326" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="186" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Comment>
              <Graphics>
                <Boundary xPos="275" yPos="133" width="186" height="50"/>
              </Graphics>
              <Text style="color:blue">
                Issue: Basically the stop signal should not make problems if the user is not speaking or id it comes late.
              </Text>
            </Comment>
            <Comment>
              <Graphics>
                <Boundary xPos="497" yPos="130" width="242" height="57"/>
              </Graphics>
              <Text style="color:blue">
                Issue: Basically there should be no need to wait because the notification for the stop signal should come after the agent stopped speaking.
              </Text>
            </Comment>
            <Node id="N7" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N8" name="Abort Speech" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Play>
                  <String><![CDATA[[tom StopSpeaking]]]></String>
                </Play>
              </Commands>
              <EEdge target="N21" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                  <ControlPoint xPos="586" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="426" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N14" name="Disregard" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentIsDisregarded"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
                <Assign>
                  <Variable name="AgentIsDisregarded"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N21" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <TEdge target="N14" start="" timeout="50">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
                  <ControlPoint xPos="746" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              </TEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N18" name="Check" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <CEdge target="N8" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="266" yPos="226" ctrlXPos="326" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="366" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="UserSpeaking"/>
                  <Bool value="true"/>
                </Eq>
              </CEdge>
              <EEdge target="N14" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="254" yPos="254" ctrlXPos="408" ctrlYPos="408"/>
                  <ControlPoint xPos="758" yPos="254" ctrlXPos="604" ctrlYPos="408"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S1" name="Conversation" comment="" hideLocalVar="false" hideGlobalVar="false" start="S3;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N6" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="186" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S3" name="Dialog Phase" comment="" hideLocalVar="false" hideGlobalVar="false" start="N30;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentInterruptible"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S13" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            <Variable name="AgentIsInterrupted"/>
          </IEdge>
          <IEdge target="S14" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="186" ctrlXPos="326" ctrlYPos="166"/>
                <ControlPoint xPos="266" yPos="186" ctrlXPos="286" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            <Variable name="AgentIsDisregarded"/>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="275" yPos="114" width="297" height="149"/>
            </Graphics>
            <Text style="color:blue">
              We could decide to barge into the turn of the user here for example because the user speaks to long or we have planned another important contribution in the meanwhile.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  In this case the agent would overlap the user's speech which could consequently cause the self interrupt of the agent as consequence of a bear up conflict.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  To avoid this self interrupt in this case, we could set the agent uninterruptible for the time of this particular contribution. Otherwise, we would react to the bear up conflict and then return to the dialog at an adequate point.
            </Text>
          </Comment>
          <Node id="N9" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="186" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N12" name="Confirmation" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PlaySceneGroup>
                <String><![CDATA[Confirmation]]></String>
              </PlaySceneGroup>
            </Commands>
            <EEdge target="N3" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="306" ctrlXPos="606" ctrlYPos="306"/>
                <ControlPoint xPos="666" yPos="306" ctrlXPos="646" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="266"/>
            </Graphics>
          </Node>
          <Node id="N30" name="Vorstellung" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PlaySceneGroup>
                <String><![CDATA[Vorstellung]]></String>
              </PlaySceneGroup>
            </Commands>
            <EEdge target="S5" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="266" yPos="306" ctrlXPos="286" ctrlYPos="306"/>
                <ControlPoint xPos="346" yPos="306" ctrlXPos="326" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="186" yPos="266"/>
            </Graphics>
          </Node>
          <Node id="N3" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <TEdge target="N30" start="" timeout="1000">
            <Graphics>
              <Connection>
                <ControlPoint xPos="706" yPos="346" ctrlXPos="706" ctrlYPos="526"/>
                <ControlPoint xPos="226" yPos="346" ctrlXPos="226" ctrlYPos="526"/>
              </Connection>
            </Graphics>
            </TEdge>
            <Graphics>
              <Position xPos="666" yPos="266"/>
            </Graphics>
          </Node>
          <SuperNode id="S5" name="Await Answer" comment="" hideLocalVar="false" hideGlobalVar="false" start="S6;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N12" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="306" ctrlXPos="446" ctrlYPos="306"/>
                <ControlPoint xPos="506" yPos="306" ctrlXPos="486" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Comment>
              <Graphics>
                <Boundary xPos="283" yPos="275" width="192" height="61"/>
              </Graphics>
              <Text style="color:blue">
                When the user starts speaking, we can also start the keyword recognition or language understanding in parallel.
              </Text>
            </Comment>
            <Comment>
              <Graphics>
                <Boundary xPos="486" yPos="272" width="228" height="71"/>
              </Graphics>
              <Text style="color:blue">
                Instead of waiting only for the stop of the user's voice activity, we can also expect a turn yield signal which includes a gaze cue in temporal alignment with the speech end.
              </Text>
            </Comment>
            <Comment>
              <Graphics>
                <Boundary xPos="441" yPos="72" width="188" height="108"/>
              </Graphics>
              <Text style="color:blue">
                We could wait for some moments after the user stops speaking because he might have only a pause and continue his utterance. In this case we do not want to continue with the agent's next contribution.
              </Text>
            </Comment>
            <Node id="N31" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N32" name="End" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="426"/>
              </Graphics>
            </Node>
            <SuperNode id="S6" name="Await" comment="" hideLocalVar="false" hideGlobalVar="false" start="N34;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S9" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="266" yPos="226" ctrlXPos="366" ctrlYPos="226"/>
                    <ControlPoint xPos="506" yPos="226" ctrlXPos="406" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </IEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N33" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="186" yPos="106"/>
                </Graphics>
              </Node>
              <Node id="N34" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N34" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                    <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="186" yPos="186"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S7" name="Await Stop" comment="" hideLocalVar="false" hideGlobalVar="false" start="N36;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="N32" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="506" yPos="466" ctrlXPos="406" ctrlYPos="466"/>
                    <ControlPoint xPos="266" yPos="466" ctrlXPos="366" ctrlYPos="466"/>
                  </Connection>
                </Graphics>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </IEdge>
              <Graphics>
                <Position xPos="506" yPos="426"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N35" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="186" yPos="106"/>
                </Graphics>
              </Node>
              <Node id="N36" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N36" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                    <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="186" yPos="186"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S9" name="User Stopped" comment="" hideLocalVar="false" hideGlobalVar="false" start="N38;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S7" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="546" yPos="266" ctrlXPos="546" ctrlYPos="326"/>
                    <ControlPoint xPos="546" yPos="426" ctrlXPos="546" ctrlYPos="366"/>
                  </Connection>
                </Graphics>
                <Variable name="UserSpeaking"/>
              </IEdge>
              <Graphics>
                <Position xPos="506" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N37" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="186" yPos="106"/>
                </Graphics>
              </Node>
              <Node id="N38" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N38" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                    <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="186" yPos="186"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S13" name="Interrupt" comment="" hideLocalVar="false" hideGlobalVar="false" start="N40;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentInterruptible"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S3" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
              <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N39" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="186" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N40" name="Reaction" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PlaySceneGroup>
                <String><![CDATA[Interrupted]]></String>
              </PlaySceneGroup>
            </Commands>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S14" name="Disregard" comment="" hideLocalVar="false" hideGlobalVar="false" start="N20;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentInterruptible"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S3" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="266" yPos="266" ctrlXPos="286" ctrlYPos="286"/>
              <ControlPoint xPos="346" yPos="266" ctrlXPos="326" ctrlYPos="286"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="186" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N42" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="186" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N43" name="Reaction" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PlaySceneGroup>
                <String><![CDATA[Disregarded]]></String>
              </PlaySceneGroup>
            </Commands>
            <EEdge target="N19" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                <ControlPoint xPos="506" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N19" name="N19" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N20" name="N20" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N43" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="266" yPos="226" ctrlXPos="286" ctrlYPos="226"/>
                <ControlPoint xPos="347" yPos="236" ctrlXPos="327" ctrlYPos="241"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="186" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S87" name="No Interaction" comment="" hideLocalVar="false" hideGlobalVar="false" start="N102;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S88" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="106" yPos="266" ctrlXPos="126" ctrlYPos="246"/>
              <ControlPoint xPos="186" yPos="266" ctrlXPos="166" ctrlYPos="246"/>
            </Connection>
          </Graphics>
          <And>
            <Neq>
              <Variable name="UserRole"/>
              <String><![CDATA[]]></String>
            </Neq>
            <Neq>
              <Variable name="AgentRole"/>
              <String><![CDATA[]]></String>
            </Neq>
          </And>
        </IEdge>
        <Graphics>
          <Position xPos="26" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N100" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="26" yPos="186"/>
          </Graphics>
        </Node>
        <Node id="N102" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N102" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
              <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="26" yPos="266"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S88" name="Interaction" comment="" hideLocalVar="false" hideGlobalVar="false" start="S90;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S87" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="186" yPos="346" ctrlXPos="166" ctrlYPos="366"/>
              <ControlPoint xPos="106" yPos="346" ctrlXPos="126" ctrlYPos="366"/>
            </Connection>
          </Graphics>
          <Or>
            <Eq>
              <Variable name="UserRole"/>
              <String><![CDATA[]]></String>
            </Eq>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[]]></String>
            </Eq>
          </Or>
        </IEdge>
        <Graphics>
          <Position xPos="186" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N101" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S89" name="Speaker" comment="" hideLocalVar="false" hideGlobalVar="false" start="S107;N142;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S90" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="106" ctrlXPos="366" ctrlYPos="86"/>
                <ControlPoint xPos="426" yPos="106" ctrlXPos="406" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[bystander]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S91" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="329" yPos="106" ctrlXPos="386" ctrlYPos="15"/>
                <ControlPoint xPos="603" yPos="106" ctrlXPos="545" ctrlYPos="15"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[addressee]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="198" yPos="106" width="252" height="92"/>
            </Graphics>
            <Text style="color:blue">
              While the agent is in the speaker role, we want to consume and ignore hold and yield signals and want to ignore take signals. The only way for the agent to leave the speaker role is by yielding the turn by itself or by reacting to a conflict with a self interrupt and a turn occupy for the user.
            </Text>
          </Comment>
          <Comment>
            <Graphics>
              <Boundary xPos="437" yPos="261" width="100" height="100"/>
            </Graphics>
            <Text style="color:blue">
              When the agent is speaker and offering the turn, then a turn take signal is interpreted as an accept.
            </Text>
          </Comment>
          <Node id="N103" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N142" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N142" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
          <SuperNode id="S107" name="No Action" comment="" hideLocalVar="false" hideGlobalVar="false" start="N169;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S108" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="266" yPos="266" ctrlXPos="286" ctrlYPos="246"/>
                  <ControlPoint xPos="346" yPos="266" ctrlXPos="326" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="AgentAction"/>
                <String><![CDATA[offering]]></String>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="179" yPos="268"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N167" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N169" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N169" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S108" name="Offering" comment="" hideLocalVar="false" hideGlobalVar="false" start="N170;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S107" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="346" yPos="346" ctrlXPos="326" ctrlYPos="366"/>
                  <ControlPoint xPos="266" yPos="346" ctrlXPos="286" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="AgentAction"/>
                <String><![CDATA[]]></String>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="339" yPos="268"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N168" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N170" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N170" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S90" name="Bystander" comment="" hideLocalVar="false" hideGlobalVar="false" start="N141;S92;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S89" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="406" ctrlYPos="206"/>
                <ControlPoint xPos="346" yPos="186" ctrlXPos="366" ctrlYPos="206"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[speaker]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S91" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="106" ctrlXPos="526" ctrlYPos="86"/>
                <ControlPoint xPos="586" yPos="106" ctrlXPos="566" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[addressee]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N133" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N141" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N141" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
          <SuperNode id="S92" name="Await Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N145;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S93" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="226" yPos="266" ctrlXPos="226" ctrlYPos="286"/>
                  <ControlPoint xPos="226" yPos="346" ctrlXPos="226" ctrlYPos="326"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[consume(turn, user, take).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="186" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N144" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N145" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N145" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S93" name="User Occupy" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(role, user, occupy).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="186" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N146" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="0" yPos="0"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S91" name="Addressee" comment="" hideLocalVar="false" hideGlobalVar="false" start="N143;S94;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S90" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="566" ctrlYPos="206"/>
                <ControlPoint xPos="506" yPos="186" ctrlXPos="526" ctrlYPos="206"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[bystander]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S89" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="603" yPos="186" ctrlXPos="545" ctrlYPos="286"/>
                <ControlPoint xPos="329" yPos="186" ctrlXPos="386" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[speaker]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="309" yPos="210" width="147" height="54"/>
            </Graphics>
            <Text style="color:blue">
              Consume and/or ignore the other turn signals and process the agent requests.
            </Text>
          </Comment>
          <Node id="N134" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N143" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N143" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
          <SuperNode id="S94" name="Await Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N148;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S95" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="186" yPos="266" ctrlXPos="156" ctrlYPos="295"/>
                  <ControlPoint xPos="146" yPos="346" ctrlXPos="146" ctrlYPos="316"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[consume(turn, user, yield).]]></String>
              </PrologQuery>
            </IEdge>
            <IEdge target="S97" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="266" yPos="266" ctrlXPos="295" ctrlYPos="295"/>
                  <ControlPoint xPos="306" yPos="346" ctrlXPos="306" ctrlYPos="316"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[consume(turn, user, assign).]]></String>
              </PrologQuery>
            </IEdge>
            <Graphics>
              <Position xPos="186" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N147" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N148" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N148" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="26" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S95" name="User Release" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(role, user, release).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="106" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N149" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S97" name="User Offers" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(role, user, offer).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N151" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="0" yPos="0"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S26" name="Multi-Modal;Incremental;Reciprocal;Recognition" comment="" hideLocalVar="false" hideGlobalVar="false" start="S47;S112;S38;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="426" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N50" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S38" name="Turn-Taking;Signal;Recognition" comment="" hideLocalVar="false" hideGlobalVar="false" start="S64;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Comment>
          <Graphics>
            <Boundary xPos="92" yPos="278" width="265" height="160"/>
          </Graphics>
          <Text style="color:blue">
            This process models the recognition of the behavioral patterns that could be interpreted as turn regulation signals. They are most important for the phases in which the agent is in the listener role and the user is in the speaker role and are supposed to serve the agent to recognize when a user accepts a role shift, continues to be in the speaker role or wants to offer the turn to the agent.
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="986" yPos="274" width="228" height="68"/>
          </Graphics>
          <Text style="color:blue">
            TODO: The turn hold signal usually enfolds a gaze aversion. So we need to introduce an additinal timeout here
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="222" yPos="178" width="257" height="73"/>
          </Graphics>
          <Text style="color:blue">
            Better recognize such short utterances in a single process outside of overlap, conflict and signal process and classify it into backchannel or not.
          </Text>
        </Comment>
        <Node id="N67" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S60" name="User Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N71;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S75" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="866" yPos="266" ctrlXPos="866" ctrlYPos="286"/>
                <ControlPoint xPos="866" yPos="346" ctrlXPos="866" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <Not>
              <Variable name="UserSpeaking"/>
            </Not>
          </IEdge>
          <Graphics>
            <Position xPos="826" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N70" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N71" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N71" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S64" name="User Is Not; Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N80;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S44" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="426" ctrlXPos="406" ctrlYPos="406"/>
                <ControlPoint xPos="426" yPos="346" ctrlXPos="406" ctrlYPos="366"/>
              </Connection>
            </Graphics>
            <Variable name="UserSpeaking"/>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N79" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N80" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N80" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S72" name="User;Assigns;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(turn, user, assign).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S64" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="546" ctrlXPos="556" ctrlYPos="546"/>
              <ControlPoint xPos="506" yPos="489" ctrlXPos="535" ctrlYPos="505"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N81" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S75" name="User Is Not; Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N83;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S77" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="386" ctrlXPos="966" ctrlYPos="386"/>
                <ControlPoint xPos="1066" yPos="386" ctrlXPos="1006" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Variable name="UserSpeaking"/>
          </IEdge>
          <IEdge target="S41" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="866" yPos="426" ctrlXPos="866" ctrlYPos="446"/>
                <ControlPoint xPos="866" yPos="506" ctrlXPos="866" ctrlYPos="486"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="1000"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="826" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N82" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N83" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N83" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S76" name="User;Takes;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(turn, user, take).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S60" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
              <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N84" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S77" name="User; Holds; Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(turn, user, hold).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S60" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="1106" yPos="346" ctrlXPos="1106" ctrlYPos="261"/>
              <ControlPoint xPos="906" yPos="226" ctrlXPos="990" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="1066" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N85" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S96" name="User; Yields;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[signal(turn, user, yield).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S64" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="386" ctrlXPos="556" ctrlYPos="386"/>
              <ControlPoint xPos="506" yPos="443" ctrlXPos="535" ctrlYPos="426"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N150" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S41" name="User Is;Still Not; Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N45;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S96" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="826" yPos="506" ctrlXPos="741" ctrlYPos="421"/>
                <ControlPoint xPos="666" yPos="386" ctrlXPos="750" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="2000"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S72" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="826" yPos="546" ctrlXPos="766" ctrlYPos="546"/>
                <ControlPoint xPos="666" yPos="546" ctrlXPos="726" ctrlYPos="546"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="UserGaze"/>
              <String><![CDATA[agent]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S77" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="546" ctrlXPos="990" ctrlYPos="546"/>
                <ControlPoint xPos="1106" yPos="426" ctrlXPos="1106" ctrlYPos="510"/>
              </Connection>
            </Graphics>
            <Variable name="UserSpeaking"/>
          </IEdge>
          <Graphics>
            <Position xPos="826" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N44" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N45" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N45" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S44" name="User Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N75;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S76" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="477" yPos="266" ctrlXPos="485" ctrlYPos="236"/>
                <ControlPoint xPos="586" yPos="226" ctrlXPos="556" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="500"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S64" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="346" ctrlXPos="526" ctrlYPos="366"/>
                <ControlPoint xPos="506" yPos="426" ctrlXPos="526" ctrlYPos="406"/>
              </Connection>
            </Graphics>
            <Not>
              <Variable name="UserSpeaking"/>
            </Not>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N73" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N75" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N75" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S47" name="Connection;Event;Recognition" comment="" hideLocalVar="false" hideGlobalVar="false" start="S58;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N89" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S58" name="Overlaps;Continuers;Responses" comment="" hideLocalVar="false" hideGlobalVar="false" start="S71;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="Start">
              <String><![CDATA[]]></String>
            </Variable>
            <Variable type="String" name ="End">
              <String><![CDATA[]]></String>
            </Variable>
            <Variable type="String" name ="Dur">
              <String><![CDATA[]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="434" yPos="12"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="146" yPos="267" width="199" height="79"/>
            </Graphics>
            <Text style="color:blue">
              We stay in this node whenever the user has started speaking before the agent, no matter if the agent overlaps the user in between.
            </Text>
          </Comment>
          <Node id="N91" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S69" name="Agent;Is Still;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N123;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S71" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="843" yPos="426" ctrlXPos="794" ctrlYPos="341"/>
                  <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="430"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S110" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="466" ctrlXPos="646" ctrlYPos="466"/>
                  <ControlPoint xPos="426" yPos="466" ctrlXPos="606" ctrlYPos="466"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="826" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N92" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N123" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N123" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S70" name="User Has;Started;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N164;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S71" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="409" yPos="266" ctrlXPos="443" ctrlYPos="206"/>
                  <ControlPoint xPos="603" yPos="266" ctrlXPos="568" ctrlYPos="206"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N126" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="282" yPos="50"/>
              </Graphics>
            </Node>
            <Node id="N164" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N164" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="282" yPos="130"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S71" name="None Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N171;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S73" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="649" yPos="266" ctrlXPos="683" ctrlYPos="206"/>
                  <ControlPoint xPos="843" yPos="266" ctrlXPos="808" ctrlYPos="206"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S70" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="603" yPos="346" ctrlXPos="568" ctrlYPos="406"/>
                  <ControlPoint xPos="409" yPos="346" ctrlXPos="443" ctrlYPos="406"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N165" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="290" yPos="31"/>
              </Graphics>
            </Node>
            <Node id="N171" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N171" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="290" yPos="111"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S73" name="Agent Has;Started;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N175;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S71" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="843" yPos="346" ctrlXPos="808" ctrlYPos="406"/>
                  <ControlPoint xPos="649" yPos="346" ctrlXPos="683" ctrlYPos="406"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S69" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="866" yPos="346" ctrlXPos="866" ctrlYPos="366"/>
                  <ControlPoint xPos="866" yPos="426" ctrlXPos="866" ctrlYPos="406"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Int value="3000"/>
              </TimeoutCondition>
            </IEdge>
            <IEdge target="S74" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="866" yPos="266" ctrlXPos="866" ctrlYPos="246"/>
                  <ControlPoint xPos="866" yPos="186" ctrlXPos="866" ctrlYPos="206"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="826" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N172" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="252" yPos="61"/>
              </Graphics>
            </Node>
            <Node id="N175" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N175" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="252" yPos="141"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S74" name="Both Are;Initially;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N177;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[now(Start).]]></String>
              </PrologQuery>
            </Commands>
            <IEdge target="S85" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="146" ctrlXPos="726" ctrlYPos="146"/>
                  <ControlPoint xPos="586" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <IEdge target="S109" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="906" yPos="146" ctrlXPos="959" ctrlYPos="146"/>
                  <ControlPoint xPos="1026" yPos="266" ctrlXPos="1026" ctrlYPos="212"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="826" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N176" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N177" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N177" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S85" name="Turn-Initial;Continuer;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[now(End), Dur is End - ]]></String>
                  <Variable name="Start"/>
                </Add>
                <String><![CDATA[.]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <EEdge target="S70" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="146" ctrlXPos="452" ctrlYPos="146"/>
                <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="212"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N178" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="0" yPos="0"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S86" name="Turn-Internal;Overlap;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[now(End), Dur is End - ]]></String>
                  <Variable name="Start"/>
                </Add>
                <String><![CDATA[.]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <EEdge target="S69" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="546" ctrlXPos="732" ctrlYPos="546"/>
                <ControlPoint xPos="866" yPos="506" ctrlXPos="866" ctrlYPos="572"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="586" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N220" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S109" name="Turn-Initial;Overlap;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[now(End), Dur is End - ]]></String>
                  <Variable name="Start"/>
                </Add>
                <String><![CDATA[.]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <EEdge target="S69" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="1026" yPos="346" ctrlXPos="1026" ctrlYPos="399"/>
                <ControlPoint xPos="906" yPos="466" ctrlXPos="959" ctrlYPos="466"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="986" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N221" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S110" name="Both Are;Internally;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N223;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[now(Start).]]></String>
              </PrologQuery>
            </Commands>
            <IEdge target="S70" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="426" ctrlXPos="386" ctrlYPos="406"/>
                  <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S86" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="397" yPos="506" ctrlXPos="415" ctrlYPos="572"/>
                  <ControlPoint xPos="586" yPos="546" ctrlXPos="519" ctrlYPos="546"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N222" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N223" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N223" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S112" name="Turn-Taking;Conflict;Recognition" comment="" hideLocalVar="false" hideGlobalVar="false" start="S10;S150;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N225" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="26" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S10" name="Recognize;Voice Activity;Overlaps" comment="" hideLocalVar="false" hideGlobalVar="false" start="S78;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="201" yPos="16"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N226" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S78" name="None; Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N228;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverlapsAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverlapsUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S113" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="317" yPos="186" ctrlXPos="340" ctrlYPos="101"/>
                  <ControlPoint xPos="506" yPos="66" ctrlXPos="421" ctrlYPos="66"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S114" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="317" yPos="266" ctrlXPos="340" ctrlYPos="350"/>
                  <ControlPoint xPos="506" yPos="386" ctrlXPos="421" ctrlYPos="386"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="266" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N227" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N228" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N228" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S113" name="Agent Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N230;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverlapsAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverlapsUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S78" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="523" yPos="106" ctrlXPos="474" ctrlYPos="190"/>
                  <ControlPoint xPos="346" yPos="215" ctrlXPos="430" ctrlYPos="191"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S116" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="66" ctrlXPos="646" ctrlYPos="66"/>
                  <ControlPoint xPos="746" yPos="66" ctrlXPos="686" ctrlYPos="66"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N229" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N230" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N230" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S114" name="User Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N232;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverlapsAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverlapsUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S78" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="523" yPos="346" ctrlXPos="474" ctrlYPos="261"/>
                  <ControlPoint xPos="346" yPos="237" ctrlXPos="430" ctrlYPos="260"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S117" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="386" ctrlXPos="646" ctrlYPos="386"/>
                  <ControlPoint xPos="746" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N231" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N232" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N232" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S115" name="Both Are;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N234;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S114" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="237" ctrlXPos="661" ctrlYPos="260"/>
                  <ControlPoint xPos="569" yPos="346" ctrlXPos="617" ctrlYPos="261"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S78" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
                  <ControlPoint xPos="346" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S113" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="215" ctrlXPos="661" ctrlYPos="191"/>
                  <ControlPoint xPos="569" yPos="106" ctrlXPos="617" ctrlYPos="190"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="746" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N233" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N234" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N234" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="267" ctrlXPos="256" ctrlYPos="189"/>
                  <ControlPoint xPos="261" yPos="286" ctrlXPos="331" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S116" name="User;Overlaps;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverlapsAgent"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S115" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="106" ctrlXPos="786" ctrlYPos="126"/>
                <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="746" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N235" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S117" name="Agent;Overlaps;User" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentOverlapsUser"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S115" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="326"/>
                <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="746" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N236" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S150" name="Recognize;Voice Activity;Conflicts" comment="" hideLocalVar="false" hideGlobalVar="false" start="S154;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="191" yPos="7"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="790" yPos="288" width="156" height="62"/>
            </Graphics>
            <Text style="color:blue">
              We also need to detect backchannels during overlaps in this process
            </Text>
          </Comment>
          <Node id="N237" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S151" name="User;Barging In;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N239;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBargesInAgent"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="126"/>
                  <ControlPoint xPos="546" yPos="266" ctrlXPos="546" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverlapsAgent"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N238" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="49" yPos="154"/>
              </Graphics>
            </Node>
            <Node id="N239" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N239" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="49" yPos="234"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S152" name="Await;Timeout" comment="" hideLocalVar="false" hideGlobalVar="false" start="N241;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="346" ctrlXPos="726" ctrlYPos="366"/>
                  <ControlPoint xPos="586" yPos="346" ctrlXPos="606" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverlapsAgent"/>
              </Not>
            </IEdge>
            <IEdge target="S156" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="246"/>
                  <ControlPoint xPos="786" yPos="106" ctrlXPos="786" ctrlYPos="126"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Int value="1000"/>
              </TimeoutCondition>
            </IEdge>
            <Graphics>
              <Position xPos="746" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N240" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="40" yPos="157"/>
              </Graphics>
            </Node>
            <Node id="N241" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N241" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="40" yPos="237"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S153" name="Await;Timeout" comment="" hideLocalVar="false" hideGlobalVar="false" start="N243;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="346" yPos="346" ctrlXPos="366" ctrlYPos="366"/>
                  <ControlPoint xPos="506" yPos="346" ctrlXPos="486" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="AgentOverlapsUser"/>
              </Not>
            </IEdge>
            <IEdge target="S157" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="306" yPos="346" ctrlXPos="306" ctrlYPos="366"/>
                  <ControlPoint xPos="306" yPos="506" ctrlXPos="306" ctrlYPos="486"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Int value="1000"/>
              </TimeoutCondition>
            </IEdge>
            <Graphics>
              <Position xPos="266" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N242" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="37" yPos="162"/>
              </Graphics>
            </Node>
            <Node id="N243" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N243" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="37" yPos="242"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S154" name="No;Turn;Conflict" comment="" hideLocalVar="false" hideGlobalVar="false" start="N245;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBearsUpAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="UserBargesInAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S153" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="246"/>
                  <ControlPoint xPos="346" yPos="266" ctrlXPos="366" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Variable name="AgentOverlapsUser"/>
            </IEdge>
            <IEdge target="S152" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="266" ctrlXPos="606" ctrlYPos="246"/>
                  <ControlPoint xPos="746" yPos="266" ctrlXPos="726" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Variable name="UserOverlapsAgent"/>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N244" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="33" yPos="156"/>
              </Graphics>
            </Node>
            <Node id="N245" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N245" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="33" yPos="236"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S155" name="User;Bearing Up;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N247;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBearsUpAgent"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="546" yPos="506" ctrlXPos="546" ctrlYPos="486"/>
                  <ControlPoint xPos="546" yPos="346" ctrlXPos="546" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="AgentOverlapsUser"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N246" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="21" yPos="151"/>
              </Graphics>
            </Node>
            <Node id="N247" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N247" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="21" yPos="231"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S156" name="User;Barges In" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(turn, conflict, bargein).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S151" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="726" ctrlYPos="66"/>
                <ControlPoint xPos="586" yPos="66" ctrlXPos="606" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="746" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N248" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S157" name="User;Bears Up" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(turn, conflict, bearup).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S155" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="546" ctrlXPos="366" ctrlYPos="546"/>
                <ControlPoint xPos="506" yPos="546" ctrlXPos="486" ctrlYPos="546"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N249" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S16" name="Statistics;Monitoring;Garbage;Collection" comment="" hideLocalVar="false" hideGlobalVar="false" start="N25;S42;S43;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="426" yPos="26"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N24" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <Node id="N25" name="Timer" history="false">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <PrologQuery>
          <String><![CDATA[now(SystemTime).]]></String>
          </PrologQuery>
        </Commands>
        <EEdge target="N25" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
            <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
      </Node>
      <SuperNode id="S42" name="Statistics" comment="" hideLocalVar="false" hideGlobalVar="false" start="N48;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <PrologQuery>
          <String><![CDATA[statistics.]]></String>
          </PrologQuery>
        </Commands>
        <IEdge target="S42" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="466" yPos="106" ctrlXPos="466" ctrlYPos="26"/>
              <ControlPoint xPos="506" yPos="106" ctrlXPos="586" ctrlYPos="26"/>
            </Connection>
          </Graphics>
          <PrologQuery>
          <String><![CDATA[timeout(statistics, 5000).]]></String>
          </PrologQuery>
        </IEdge>
        <Graphics>
          <Position xPos="426" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N26" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="287" yPos="25"/>
          </Graphics>
        </Node>
        <Node id="N48" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N48" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
              <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="287" yPos="105"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S43" name="Garbage" comment="" hideLocalVar="false" hideGlobalVar="false" start="N72;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <PrologQuery>
          <String><![CDATA[garbage(speech, 30000).]]></String>
          </PrologQuery>
        </Commands>
        <IEdge target="S43" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="26"/>
              <ControlPoint xPos="666" yPos="106" ctrlXPos="746" ctrlYPos="26"/>
            </Connection>
          </Graphics>
          <PrologQuery>
          <String><![CDATA[timeout(garbage, 10000).]]></String>
          </PrologQuery>
        </IEdge>
        <Graphics>
          <Position xPos="586" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N46" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="281" yPos="33"/>
          </Graphics>
        </Node>
        <Node id="N72" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N72" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
              <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="281" yPos="113"/>
          </Graphics>
        </Node>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S20" name="Participant;Role / Turn;Assignment;And Shifting" comment="" hideLocalVar="false" hideGlobalVar="false" start="S22;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="586" yPos="346"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Comment>
        <Graphics>
          <Boundary xPos="223" yPos="247" width="370" height="93"/>
        </Graphics>
        <Text style="color:blue">
          This process determines the assignment of the different participant roles to the user and the agent as well as the shifts of these participant roles between the user and the agent. The determination of the participant roles is based on the attendance of the interaction partners as well as the role regulation signals.
        </Text>
      </Comment>
      <Node id="N1" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S22" name="No;Interaction" comment="" hideLocalVar="false" hideGlobalVar="false" start="N52;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Assign>
            <Variable name="UserRole"/>
            <Expression>
              <String><![CDATA[]]></String>
            </Expression>
          </Assign>
          <Assign>
            <Variable name="AgentRole"/>
            <Expression>
              <String><![CDATA[]]></String>
            </Expression>
          </Assign>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <IEdge target="S27" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="346" yPos="106" ctrlXPos="366" ctrlYPos="86"/>
              <ControlPoint xPos="426" yPos="106" ctrlXPos="406" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          <And>
            <Variable name="UserAttendant"/>
            <Variable name="AgentAttendant"/>
          </And>
        </IEdge>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N29" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N52" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N52" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
              <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S27" name="Interaction;Between;User;And Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="S28;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S22" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="186" ctrlXPos="406" ctrlYPos="206"/>
              <ControlPoint xPos="346" yPos="186" ctrlXPos="366" ctrlYPos="206"/>
            </Connection>
          </Graphics>
          <Or>
            <Not>
              <Variable name="UserAttendant"/>
            </Not>
            <Not>
              <Variable name="AgentAttendant"/>
            </Not>
          </Or>
        </IEdge>
        <Graphics>
          <Position xPos="426" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Comment>
          <Graphics>
            <Boundary xPos="225" yPos="402" width="186" height="58"/>
          </Graphics>
          <Text style="color:blue">
            Here we should use the timeout to switch to the speaker role after the user offered the turn.
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="482" yPos="62" width="291" height="54"/>
          </Graphics>
          <Text style="color:blue">
            TODO: Here we should take the first occupy based on timestamps and not undeterministically to avoid racing conditions.
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="527" yPos="359" width="136" height="50"/>
          </Graphics>
          <Text style="color:blue">
            How does a user reject look like?
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="848" yPos="70" width="164" height="80"/>
          </Graphics>
          <Text style="color:blue">
            Should these timeouts better result in a bystander bystander constellation?
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="346" yPos="37" width="100" height="100"/>
          </Graphics>
          <Text style="color:blue">
            All other role events should be handled and ignored with self loops too
          </Text>
        </Comment>
        <Node id="N51" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S28" name="Agent is; Bystander; And User Is;Bystander" comment="" hideLocalVar="false" hideGlobalVar="false" start="N68;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[bystander]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[bystander]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="215" ctrlXPos="766" ctrlYPos="187"/>
                <ControlPoint xPos="906" yPos="215" ctrlXPos="806" ctrlYPos="187"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, user, occupy).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="215" ctrlXPos="486" ctrlYPos="187"/>
                <ControlPoint xPos="346" yPos="215" ctrlXPos="446" ctrlYPos="187"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, agent, occupy).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N53" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="362" yPos="27"/>
            </Graphics>
          </Node>
          <Node id="N68" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N68" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="362" yPos="107"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S29" name="Agent Is; Speaker;And User Is;Addressee" comment="" hideLocalVar="false" hideGlobalVar="false" start="N109;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[addressee]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[speaker]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="237" ctrlXPos="446" ctrlYPos="264"/>
                <ControlPoint xPos="586" yPos="237" ctrlXPos="486" ctrlYPos="264"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, agent, release).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S35" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="266" ctrlXPos="455" ctrlYPos="375"/>
                <ControlPoint xPos="506" yPos="426" ctrlXPos="396" ctrlYPos="316"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, agent, offer).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="203" ctrlXPos="600" ctrlYPos="109"/>
                <ControlPoint xPos="906" yPos="203" ctrlXPos="643" ctrlYPos="116"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, user, conquer).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N69" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="361" yPos="46"/>
            </Graphics>
          </Node>
          <Node id="N109" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N109" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="361" yPos="126"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S32" name="Agent Is; Addressee;And User Is;Speaker" comment="" hideLocalVar="false" hideGlobalVar="false" start="N108;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[speaker]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[addressee]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="237" ctrlXPos="806" ctrlYPos="264"/>
                <ControlPoint xPos="666" yPos="237" ctrlXPos="766" ctrlYPos="264"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, user, release).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S61" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="266" ctrlXPos="796" ctrlYPos="375"/>
                <ControlPoint xPos="746" yPos="426" ctrlXPos="855" ctrlYPos="316"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, user, offer).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="906" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N107" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="366" yPos="50"/>
            </Graphics>
          </Node>
          <Node id="N108" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N108" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="366" yPos="130"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S35" name="Agent Is;Speaker; And Offering;Turn Switch" comment="" hideLocalVar="false" hideGlobalVar="false" start="N112;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[offering]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="523" yPos="426" ctrlXPos="459" ctrlYPos="316"/>
                <ControlPoint xPos="346" yPos="249" ctrlXPos="455" ctrlYPos="312"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="5000"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="443" ctrlXPos="396" ctrlYPos="379"/>
                <ControlPoint xPos="329" yPos="266" ctrlXPos="392" ctrlYPos="375"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, user, reject).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="489" ctrlXPos="759" ctrlYPos="588"/>
                <ControlPoint xPos="957" yPos="266" ctrlXPos="1004" ctrlYPos="439"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, user, accept).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="506" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N110" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="370" yPos="36"/>
            </Graphics>
          </Node>
          <Node id="N112" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N112" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="370" yPos="116"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S61" name="User Is;Speaker; And Offering;Turn Switch" comment="" hideLocalVar="false" hideGlobalVar="false" start="N113;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[offering]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="489" ctrlXPos="492" ctrlYPos="588"/>
                <ControlPoint xPos="317" yPos="266" ctrlXPos="364" ctrlYPos="439"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, agent, accept).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="729" yPos="426" ctrlXPos="792" ctrlYPos="316"/>
                <ControlPoint xPos="906" yPos="249" ctrlXPos="796" ctrlYPos="312"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="5000"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="443" ctrlXPos="855" ctrlYPos="379"/>
                <ControlPoint xPos="923" yPos="266" ctrlXPos="859" ctrlYPos="375"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, agent, reject).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="466" ctrlXPos="855" ctrlYPos="466"/>
                <ControlPoint xPos="946" yPos="266" ctrlXPos="946" ctrlYPos="375"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[consume(role, user, reclaim).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N111" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="364" yPos="24"/>
            </Graphics>
          </Node>
          <Node id="N113" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N113" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="364" yPos="104"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S21" name="Dialog;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="S98;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="506" yPos="426"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N153" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S98" name="No;Interaction" comment="" hideLocalVar="false" hideGlobalVar="false" start="N156;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S99" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="346" yPos="106" ctrlXPos="366" ctrlYPos="86"/>
              <ControlPoint xPos="426" yPos="106" ctrlXPos="406" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          <And>
            <Neq>
              <Variable name="UserRole"/>
              <String><![CDATA[]]></String>
            </Neq>
            <Neq>
              <Variable name="AgentRole"/>
              <String><![CDATA[]]></String>
            </Neq>
          </And>
        </IEdge>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N154" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N156" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N156" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
              <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S99" name="Interaction" comment="" hideLocalVar="false" hideGlobalVar="false" start="S63;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S98" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="186" ctrlXPos="406" ctrlYPos="206"/>
              <ControlPoint xPos="346" yPos="186" ctrlXPos="366" ctrlYPos="206"/>
            </Connection>
          </Graphics>
          <Or>
            <Eq>
              <Variable name="UserRole"/>
              <String><![CDATA[]]></String>
            </Eq>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[]]></String>
            </Eq>
          </Or>
        </IEdge>
        <Graphics>
          <Position xPos="426" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N155" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S62" name="Speaker" comment="" hideLocalVar="false" hideGlobalVar="false" start="S100;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="D">
              <String><![CDATA[]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S63" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="106" ctrlXPos="446" ctrlYPos="86"/>
                <ControlPoint xPos="506" yPos="106" ctrlXPos="486" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[bystander]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S65" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="409" yPos="106" ctrlXPos="466" ctrlYPos="15"/>
                <ControlPoint xPos="683" yPos="106" ctrlXPos="625" ctrlYPos="15"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[addressee]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="512" yPos="80"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="621" yPos="271" width="169" height="50"/>
            </Graphics>
            <Text style="color:blue">
              Here we consume the interrupt signal and react to it.
            </Text>
          </Comment>
          <Comment>
            <Graphics>
              <Boundary xPos="536" yPos="334" width="224" height="96"/>
            </Graphics>
            <Text style="color:blue">
              If we get the next intended speaker together with the contribution, then we can decide to display an assign or a yield behavior and we can decide to signal an offer or a release signal.
            </Text>
          </Comment>
          <Node id="N13" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S100" name="Await Next;Planned;Contribution" comment="" hideLocalVar="false" hideGlobalVar="false" start="N152;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S101" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[consume(scene, agent, D).]]></String>
              </PrologQuery>
            </IEdge>
            <IEdge target="S17" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="286"/>
                  <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="326"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Int value="3000"/>
              </TimeoutCondition>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N122" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N152" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N152" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S101" name="Execute;Planned;Contribution" comment="" hideLocalVar="false" hideGlobalVar="false" start="S33;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S100" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
                <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N157" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S103" name="Display;Planning;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PlaySceneGroup>
                  <String><![CDATA[planning]]></String>
                </PlaySceneGroup>
              </Commands>
              <EEdge target="S104" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="306" ctrlXPos="446" ctrlYPos="306"/>
                  <ControlPoint xPos="506" yPos="306" ctrlXPos="486" ctrlYPos="306"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N159" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S104" name="Execute;Contribution;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentInterruptible"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
                <PlaySceneGroup>
                  <Variable name="D"/>
                </PlaySceneGroup>
                <Assign>
                  <Variable name="AgentInterruptible"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
              </Commands>
              <EEdge target="S105" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="306" ctrlXPos="606" ctrlYPos="306"/>
                  <ControlPoint xPos="666" yPos="306" ctrlXPos="646" ctrlYPos="306"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="506" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N161" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S105" name="Display;Turn-Hold;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PlaySceneGroup>
                  <String><![CDATA[holding]]></String>
                </PlaySceneGroup>
              </Commands>
              <Graphics>
                <Position xPos="666" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N162" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S30" name="Display;Turn-Hold;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Play>
                  <String><![CDATA[[wizard output text='holding']]]></String>
                </Play>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N57" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S31" name="Execute;Contribution;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="AgentInterruptible"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
                <Play>
                  <Add>
                    <Add>
                      <String><![CDATA[[wizard output text=']]></String>
                      <Variable name="D"/>
                    </Add>
                    <String><![CDATA[']]]></String>
                  </Add>
                </Play>
                <Assign>
                  <Variable name="AgentInterruptible"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
              </Commands>
              <EEdge target="S30" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
                  <ControlPoint xPos="826" yPos="146" ctrlXPos="806" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="586" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N58" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S33" name="Display;Planning;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Play>
                  <String><![CDATA[[wizard output text='planning']]]></String>
                </Play>
              </Commands>
              <EEdge target="S31" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="146" ctrlXPos="446" ctrlYPos="146"/>
                  <ControlPoint xPos="586" yPos="146" ctrlXPos="566" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N59" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S102" name="Interruption" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="666" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N158" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S17" name="Display;Turn-Assign;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(role, agent , offer).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S100" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="397" yPos="346" ctrlXPos="402" ctrlYPos="326"/>
                <ControlPoint xPos="397" yPos="266" ctrlXPos="402" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N55" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S63" name="Bystander" comment="" hideLocalVar="false" hideGlobalVar="false" start="S66;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S62" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="206"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="206"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[speaker]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S65" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="106" ctrlXPos="606" ctrlYPos="86"/>
                <ControlPoint xPos="666" yPos="106" ctrlXPos="646" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[addressee]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="506" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="434" yPos="157" width="301" height="99"/>
            </Graphics>
            <Text style="color:blue">
              The dialog starts with the agent and the user in the bystander role. At the beginning the agent waits for some time period during which the user may occupy the turn. After this time period has elapsed it occups the turn in order to take on the speaker role.
            </Text>
          </Comment>
          <Node id="N114" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S66" name="Await;User;Occupy" comment="" hideLocalVar="false" hideGlobalVar="false" start="N120;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S67" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="206"/>
                  <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Int value="3000"/>
              </TimeoutCondition>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N119" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="372" yPos="35"/>
              </Graphics>
            </Node>
            <Node id="N120" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N120" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="372" yPos="115"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S67" name="Agent;Occupies;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="N54;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(role, agent, occupy).]]></String>
              </PrologQuery>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N121" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N54" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N54" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S65" name="Addressee" comment="" hideLocalVar="false" hideGlobalVar="false" start="N118;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S63" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="186" ctrlXPos="646" ctrlYPos="206"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="606" ctrlYPos="206"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[bystander]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S62" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="683" yPos="186" ctrlXPos="625" ctrlYPos="286"/>
                <ControlPoint xPos="409" yPos="186" ctrlXPos="466" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[speaker]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N115" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="377" yPos="40"/>
            </Graphics>
          </Node>
          <Node id="N118" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N118" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="377" yPos="120"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S40" name="Detection;Processing;Propagation" comment="" hideLocalVar="false" hideGlobalVar="false" start="S118;S141;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="426" yPos="106"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N179" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S118" name="Voice;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S119;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="N">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="D">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="E">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <EEdge target="S118" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="26"/>
            <ControlPoint xPos="586" yPos="106" ctrlXPos="666" ctrlYPos="26"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="506" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="249" yPos="87"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Comment>
          <Graphics>
            <Boundary xPos="18" yPos="406" width="235" height="71"/>
          </Graphics>
          <Text style="color:blue">
            Here we extract the oldest voice event and retract it from the fact base then. We do not delete the other probably newer events since we do not want to miss any voice events here.
          </Text>
        </Comment>
        <Node id="N180" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="26" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S119" name="Get Next;Oldest;Voice Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N182;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S120" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="106" yPos="306" ctrlXPos="166" ctrlYPos="306"/>
                <ControlPoint xPos="266" yPos="306" ctrlXPos="206" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[voice(N, D, E).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="26" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N181" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N182" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N182" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S120" name="Check; Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S121" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="306" yPos="266" ctrlXPos="306" ctrlYPos="246"/>
                <ControlPoint xPos="306" yPos="186" ctrlXPos="306" ctrlYPos="206"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="N"/>
              </Add>
              <String><![CDATA[, user).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S122" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="306" yPos="346" ctrlXPos="306" ctrlYPos="366"/>
                <ControlPoint xPos="306" yPos="426" ctrlXPos="306" ctrlYPos="406"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="N"/>
              </Add>
              <String><![CDATA[, agent).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N183" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S121" name="User;Voice;Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S123" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="123" ctrlXPos="412" ctrlYPos="84"/>
                <ControlPoint xPos="506" yPos="66" ctrlXPos="439" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="D"/>
              </Add>
              <String><![CDATA[, start).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S124" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="169" ctrlXPos="412" ctrlYPos="207"/>
                <ControlPoint xPos="506" yPos="226" ctrlXPos="439" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="D"/>
              </Add>
              <String><![CDATA[, stop).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N184" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S122" name="Agent;Voice;Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S125" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="489" ctrlXPos="412" ctrlYPos="527"/>
                <ControlPoint xPos="506" yPos="546" ctrlXPos="439" ctrlYPos="546"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="D"/>
              </Add>
              <String><![CDATA[, start).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S126" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="443" ctrlXPos="412" ctrlYPos="404"/>
                <ControlPoint xPos="506" yPos="386" ctrlXPos="439" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="D"/>
              </Add>
              <String><![CDATA[, stop).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N185" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S123" name="User;Starts;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserSpeaking"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
            <UserCommand name="print">
              <String><![CDATA[User starts speaking]]></String>
            </UserCommand>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N186" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S124" name="User;Stops;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserSpeaking"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
            <UserCommand name="print">
              <String><![CDATA[User stops speaking]]></String>
            </UserCommand>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N187" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S125" name="Agent;Starts;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentSpeaking"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
            <UserCommand name="print">
              <String><![CDATA[Agent starts speaking]]></String>
            </UserCommand>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N188" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S126" name="Agent;Stops;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentSpeaking"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
            <UserCommand name="print">
              <String><![CDATA[Agent stops speaking]]></String>
            </UserCommand>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N189" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S127" name="Move" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N190" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="0" yPos="0"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S128" name="Gaze;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S129;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="D">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="E">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S128" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="706" yPos="106" ctrlXPos="706" ctrlYPos="26"/>
            <ControlPoint xPos="746" yPos="106" ctrlXPos="826" ctrlYPos="26"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="666" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="270" yPos="4"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Comment>
          <Graphics>
            <Boundary xPos="567" yPos="322" width="223" height="92"/>
          </Graphics>
          <Text style="color:blue">
            The agent's gaze shifts, which means each change of the agent's current gaze target and thus it's visual focus of attention  have to be forwarded to the connection event detection processes.
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="570" yPos="213" width="222" height="101"/>
          </Graphics>
          <Text style="color:blue">
            The user's gaze shifts have to be forwarded to the connection event detection processes as well as to the processes that control the  automatic and reactive nonverbal behavior of the agent.
          </Text>
        </Comment>
        <Node id="N191" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="26" yPos="346"/>
          </Graphics>
        </Node>
        <SuperNode id="S129" name="Get Next;Oldest;Gaze Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N193;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S133" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="106" yPos="306" ctrlXPos="166" ctrlYPos="306"/>
                <ControlPoint xPos="186" yPos="306" ctrlXPos="126" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[gaze(E).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="26" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N192" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N193" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N193" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S130" name="Check;Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S131" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="466" yPos="266" ctrlXPos="466" ctrlYPos="246"/>
                <ControlPoint xPos="466" yPos="186" ctrlXPos="466" ctrlYPos="206"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(name, user, ]]></String>
                <Variable name="E"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S132" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="466" yPos="346" ctrlXPos="466" ctrlYPos="366"/>
                <ControlPoint xPos="466" yPos="426" ctrlXPos="466" ctrlYPos="406"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(name, agent, ]]></String>
                <Variable name="E"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N194" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S131" name="User;Gaze;Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S134" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="146" ctrlXPos="566" ctrlYPos="146"/>
                <ControlPoint xPos="666" yPos="146" ctrlXPos="606" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            <Neq>
              <Variable name="UserGaze"/>
              <Variable name="D"/>
            </Neq>
          </IEdge>
          <IEdge target="S135" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="146" ctrlXPos="366" ctrlYPos="146"/>
                <ControlPoint xPos="266" yPos="146" ctrlXPos="326" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="UserGaze"/>
              <Variable name="D"/>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N195" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S132" name="Agent;Gaze;Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S137" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="466" ctrlXPos="566" ctrlYPos="466"/>
                <ControlPoint xPos="666" yPos="466" ctrlXPos="606" ctrlYPos="466"/>
              </Connection>
            </Graphics>
            <Neq>
              <Variable name="AgentGaze"/>
              <Variable name="D"/>
            </Neq>
          </IEdge>
          <IEdge target="S136" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="466" ctrlXPos="406" ctrlYPos="466"/>
                <ControlPoint xPos="266" yPos="466" ctrlXPos="286" ctrlYPos="466"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentGaze"/>
              <Variable name="D"/>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N196" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S133" name="Get Gaze;Event;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S130" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="266" yPos="306" ctrlXPos="326" ctrlYPos="306"/>
                <ControlPoint xPos="426" yPos="306" ctrlXPos="366" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(data, D, ]]></String>
                <Variable name="E"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="186" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N197" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S134" name="New;Gaze;Target" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserGaze"/>
              <Expression>
                <Variable name="D"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N199" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S135" name="Same;Gaze;Target" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="186" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N200" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S136" name="Same;Gaze;Target" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="186" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N201" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S137" name="New;Gaze;Target" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentGaze"/>
              <Expression>
                <Variable name="D"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N202" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S138" name="Speech" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="26" yPos="346"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N203" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="0" yPos="0"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S139" name="Facs" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="106" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N204" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="0" yPos="0"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S140" name="Mood" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="106" yPos="346"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N205" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="0" yPos="0"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S141" name="State;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S142;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="N">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="D">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="E">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <EEdge target="S141" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="386" yPos="106" ctrlXPos="386" ctrlYPos="26"/>
            <ControlPoint xPos="426" yPos="106" ctrlXPos="506" ctrlYPos="26"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="346" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="240" yPos="53"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N206" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="26" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S142" name="Get Next;Oldest;State Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N208;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S143" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="106" yPos="306" ctrlXPos="126" ctrlYPos="306"/>
                <ControlPoint xPos="266" yPos="306" ctrlXPos="246" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[state(N, D, E).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="26" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N207" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N208" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N208" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S143" name="Check;Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S144" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="306" yPos="266" ctrlXPos="306" ctrlYPos="236"/>
                <ControlPoint xPos="426" yPos="226" ctrlXPos="396" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="N"/>
              </Add>
              <String><![CDATA[, user).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S145" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="317" yPos="346" ctrlXPos="325" ctrlYPos="375"/>
                <ControlPoint xPos="426" yPos="386" ctrlXPos="396" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="N"/>
              </Add>
              <String><![CDATA[, agent).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N209" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S144" name="User;State;Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S146" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="186" ctrlXPos="590" ctrlYPos="101"/>
                <ControlPoint xPos="666" yPos="66" ctrlXPos="581" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="D"/>
              </Add>
              <String><![CDATA[, enter).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S149" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
                <ControlPoint xPos="666" yPos="226" ctrlXPos="606" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="D"/>
              </Add>
              <String><![CDATA[, leave).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N211" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S145" name="Agent;State;Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S148" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="426" ctrlXPos="590" ctrlYPos="510"/>
                <ControlPoint xPos="666" yPos="546" ctrlXPos="581" ctrlYPos="546"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="D"/>
              </Add>
              <String><![CDATA[, enter).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S147" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="386" ctrlXPos="566" ctrlYPos="386"/>
                <ControlPoint xPos="666" yPos="386" ctrlXPos="606" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[eq(]]></String>
                <Variable name="D"/>
              </Add>
              <String><![CDATA[, leave).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N214" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S146" name="User;Enters;Dialog" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserAttendant"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
            <UserCommand name="print">
              <String><![CDATA[User enters dialog]]></String>
            </UserCommand>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N215" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S147" name="Agent;Leaves;Dialog" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentAttendant"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
            <UserCommand name="print">
              <String><![CDATA[Agent leaves dialog]]></String>
            </UserCommand>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N217" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S148" name="Agent;Enters;Dialog" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentAttendant"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
            <UserCommand name="print">
              <String><![CDATA[Agent enters dialog]]></String>
            </UserCommand>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N218" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S149" name="User;Leaves;Dialog" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserAttendant"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
            <UserCommand name="print">
              <String><![CDATA[User leaves dialog]]></String>
            </UserCommand>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N219" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S46" name="Planning;Mind;Beliefs;" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="426" yPos="506"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N87" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
      </Node>
    </SuperNode>
  </SuperNode>
  <SuperNode id="S57" name="Initialize;Agent;Engine" comment="" hideLocalVar="false" hideGlobalVar="false" start="N213;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <EEdge target="S56" start ="">
    <Graphics>
      <Connection>
        <ControlPoint xPos="506" yPos="146" ctrlXPos="526" ctrlYPos="146"/>
        <ControlPoint xPos="586" yPos="146" ctrlXPos="566" ctrlYPos="146"/>
      </Connection>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position xPos="426" yPos="106"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="2" yPos="1"/>
    </GlobalVariableBadge>
    <Node id="N210" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="266" yPos="26"/>
      </Graphics>
    </Node>
    <Node id="N212" name="Set User;And Agent;Position" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Play>
          <String><![CDATA[[tom WorldPosition x=1.5 y=3.75 z=10.9]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player WorldPosition x=2.5 y=3.75 z=6.5]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[tom SitDown chairname=meeting_seat_left]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player SitDown chairname=meeting_seat_right]]]></String>
        </Play>
      </Commands>
      <TEdge target="N216" start="" timeout="2500">
      <Graphics>
        <Connection>
          <ControlPoint xPos="506" yPos="146" ctrlXPos="606" ctrlYPos="146"/>
          <ControlPoint xPos="746" yPos="146" ctrlXPos="646" ctrlYPos="146"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="426" yPos="106"/>
      </Graphics>
    </Node>
    <Node id="N213" name="Await;TWorld;Startup" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <TEdge target="N212" start="" timeout="2500">
      <Graphics>
        <Connection>
          <ControlPoint xPos="346" yPos="146" ctrlXPos="366" ctrlYPos="146"/>
          <ControlPoint xPos="426" yPos="146" ctrlXPos="406" ctrlYPos="146"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="266" yPos="106"/>
      </Graphics>
    </Node>
    <Node id="N216" name="Set;Camera; And View" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Play>
          <String><![CDATA[[player Scale value=0.9]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player Camera x=0.0 y=0.0]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player CameraOffset x=0 y=-0.1 z=0.0]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player FocalLength value=28.0 time=0.05]]]></String>
        </Play>
      </Commands>
      <Graphics>
        <Position xPos="746" yPos="106"/>
      </Graphics>
    </Node>
  </SuperNode>
  <SuperNode id="S39" name="Testing" comment="" hideLocalVar="false" hideGlobalVar="false" start="N77;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <Graphics>
      <Position xPos="266" yPos="26"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </GlobalVariableBadge>
    <Node id="N76" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="26" yPos="186"/>
      </Graphics>
    </Node>
    <Node id="N77" name="Timeout" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N78" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="266" yPos="226" ctrlXPos="326" ctrlYPos="226"/>
            <ControlPoint xPos="426" yPos="226" ctrlXPos="366" ctrlYPos="226"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <String><![CDATA[timeout(name, 3000).]]></String>
        </PrologQuery>
      </CEdge>
      <EEdge target="N77" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
          <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="186" yPos="186"/>
      </Graphics>
    </Node>
    <Node id="N78" name="Repeat" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N77" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="427" yPos="236" ctrlXPos="368" ctrlYPos="251"/>
          <ControlPoint xPos="265" yPos="236" ctrlXPos="323" ctrlYPos="251"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="426" yPos="186"/>
      </Graphics>
    </Node>
  </SuperNode>
  <SuperNode id="S18" name="Cleanup;Knowledge; Base" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
      <PrologQuery>
      <String><![CDATA[cleanup.]]></String>
      </PrologQuery>
      <Play>
        <String><![CDATA[[wizard output text=cleanup]]]></String>
      </Play>
    </Commands>
    <EEdge target="S56" start ="">
    <Graphics>
      <Connection>
        <ControlPoint xPos="346" yPos="146" ctrlXPos="446" ctrlYPos="146"/>
        <ControlPoint xPos="586" yPos="157" ctrlXPos="486" ctrlYPos="184"/>
      </Connection>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position xPos="266" yPos="106"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </GlobalVariableBadge>
    <Node id="N41" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="266" yPos="26"/>
      </Graphics>
    </Node>
  </SuperNode>
  <UserCommands>
    <UserCommand name="print" classname ="java.lang.System.err" method="println">
      <Argument name="text" type="java.lang.String"/>
    </UserCommand>
  </UserCommands>
  <ClassPath>
  </ClassPath>
  <InitContext></InitContext>
</SceneFlow>