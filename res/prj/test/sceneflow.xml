<?xml version="1.0" encoding="UTF-8"?>
<SceneFlow id="" name="AAMAS" comment="" hideLocalVar="false" hideGlobalVar="false" modifDate="Mi, 7 Dez 2016 17:40:17" start="S18;" context="" package="" xmlns="xml.sceneflow.dfki.de" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="xml.sceneflow.dfki.de res/xsd/sceneflow.xsd">
  <Define>
  </Define>
  <Declare>
    <Variable type="String" name ="SystemTime">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserRole">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentRole">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserAction">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentAction">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserGaze">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="AgentGaze">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserFacs">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserHead">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserTouch">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="String" name ="UserSpeech">
      <String><![CDATA[]]></String>
    </Variable>
    <Variable type="Bool" name ="UserPresent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentPresent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserSpeaking">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentSpeaking">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserDragging">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserOverlappingAgent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentOverlappingUser">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserBargingInAgent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserBearingUpAgent">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserClaimingTurn">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentClaimingTurn">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="UserInterruptible">
      <Bool value="true"/>
    </Variable>
    <Variable type="Bool" name ="AgentInterruptible">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="AgentInterjectable">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="SharedGaze">
      <Bool value="false"/>
    </Variable>
    <Variable type="Bool" name ="MutualGaze">
      <Bool value="false"/>
    </Variable>
  </Declare>
  <Commands>
  </Commands>
  <LocalVariableBadge>
    <Position xPos="4" yPos="-37"/>
  </LocalVariableBadge>
  <GlobalVariableBadge>
    <Position xPos="10" yPos="10"/>
  </GlobalVariableBadge>
  <SuperNode id="S56" name="Interaction;Behavior;Model" comment="" hideLocalVar="false" hideGlobalVar="false" start="S20;S4;S192;S26;S16;S40;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
      <Play>
        <String><![CDATA[[wizard refresh]]]></String>
      </Play>
      <Play>
        <String><![CDATA[[wizard output text=interaction]]]></String>
      </Play>
    </Commands>
    <Graphics>
      <Position xPos="586" yPos="106"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="-1" yPos="109"/>
    </GlobalVariableBadge>
    <Node id="N99" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="266" yPos="26"/>
      </Graphics>
    </Node>
    <SuperNode id="S26" name="Detect;Behavior;Patterns" comment="" hideLocalVar="false" hideGlobalVar="false" start="S12;S38;S112;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="586" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Comment>
        <Graphics>
          <Boundary xPos="750" yPos="284" width="309" height="50"/>
        </Graphics>
        <Text style="color:blue">
          User shows expression while looking at the agent.
        </Text>
      </Comment>
      <Comment>
        <Graphics>
          <Boundary xPos="754" yPos="358" width="289" height="50"/>
        </Graphics>
        <Text style="color:blue">
          User makes head nod while listening to the agent.
        </Text>
      </Comment>
      <Comment>
        <Graphics>
          <Boundary xPos="752" yPos="202" width="280" height="50"/>
        </Graphics>
        <Text style="color:blue">
          User looks at agent while draggin an object.
        </Text>
      </Comment>
      <Node id="N50" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S38" name="Detect Voice;Turn-Taking;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S64;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="506" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Comment>
          <Graphics>
            <Boundary xPos="33" yPos="569" width="265" height="160"/>
          </Graphics>
          <Text style="color:blue">
            This process models the recognition of the behavioral patterns that could be interpreted as turn regulation signals. They are most important for the phases in which the agent is in the listener role and the user is in the speaker role and are supposed to serve the agent to recognize when a user accepts a role shift, continues to be in the speaker role or wants to offer the turn to the agent.
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="925" yPos="276" width="228" height="68"/>
          </Graphics>
          <Text style="color:blue">
            TODO: The turn hold signal usually enfolds a gaze aversion. So we need to introduce an additinal timeout here
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="342" yPos="90" width="221" height="85"/>
          </Graphics>
          <Text style="color:blue">
            Better recognize such short utterances in a single process outside of overlap, conflict and signal process and classify it into backchannel or not.
          </Text>
        </Comment>
        <Node id="N67" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S60" name="User Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N71;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserClaimingTurn"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S75" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="706" yPos="266" ctrlXPos="706" ctrlYPos="286"/>
                <ControlPoint xPos="706" yPos="346" ctrlXPos="706" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <Not>
              <Variable name="UserSpeaking"/>
            </Not>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N70" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N71" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N71" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S64" name="User Is Not; Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N80;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserClaimingTurn"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S44" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="266" yPos="426" ctrlXPos="246" ctrlYPos="406"/>
                <ControlPoint xPos="266" yPos="346" ctrlXPos="246" ctrlYPos="366"/>
              </Connection>
            </Graphics>
            <Variable name="UserSpeaking"/>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N79" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N80" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N80" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S72" name="User;Assigns;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=user_assigns_turn]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(user, turn, assign).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S64" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="546" ctrlXPos="396" ctrlYPos="546"/>
              <ControlPoint xPos="346" yPos="489" ctrlXPos="375" ctrlYPos="505"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="426" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N81" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S75" name="User Is Not; Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N83;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S77" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="386" ctrlXPos="806" ctrlYPos="386"/>
                <ControlPoint xPos="906" yPos="386" ctrlXPos="846" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Variable name="UserSpeaking"/>
          </IEdge>
          <IEdge target="S41" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="706" yPos="426" ctrlXPos="706" ctrlYPos="446"/>
                <ControlPoint xPos="706" yPos="506" ctrlXPos="706" ctrlYPos="486"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="750"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N82" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N83" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N83" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S76" name="User;Takes;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=user_takes_turn]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(user, turn, take).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S60" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
              <ControlPoint xPos="666" yPos="226" ctrlXPos="606" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="426" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N84" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S77" name="User; Holds; Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=user_holds_turn]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(user, turn, hold).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S60" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="946" yPos="346" ctrlXPos="946" ctrlYPos="261"/>
              <ControlPoint xPos="746" yPos="226" ctrlXPos="830" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="906" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N85" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S96" name="User; Yields;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=user_yields_turn]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(user, turn, yield).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S64" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="386" ctrlXPos="396" ctrlYPos="386"/>
              <ControlPoint xPos="346" yPos="443" ctrlXPos="375" ctrlYPos="426"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="426" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N150" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S41" name="User Is;Still Not; Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N45;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S96" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="506" ctrlXPos="581" ctrlYPos="421"/>
                <ControlPoint xPos="506" yPos="386" ctrlXPos="590" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="1000"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S72" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="546" ctrlXPos="606" ctrlYPos="546"/>
                <ControlPoint xPos="506" yPos="546" ctrlXPos="566" ctrlYPos="546"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="UserGaze"/>
              <String><![CDATA[agent]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S77" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="546" ctrlXPos="830" ctrlYPos="546"/>
                <ControlPoint xPos="946" yPos="426" ctrlXPos="946" ctrlYPos="510"/>
              </Connection>
            </Graphics>
            <Variable name="UserSpeaking"/>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N44" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N45" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N45" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S44" name="User Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N75;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S76" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="317" yPos="266" ctrlXPos="325" ctrlYPos="236"/>
                <ControlPoint xPos="426" yPos="226" ctrlXPos="396" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="500"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S64" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="346" ctrlXPos="366" ctrlYPos="366"/>
                <ControlPoint xPos="346" yPos="426" ctrlXPos="366" ctrlYPos="406"/>
              </Connection>
            </Graphics>
            <Not>
              <Variable name="UserSpeaking"/>
            </Not>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N73" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N75" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N75" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S47" name="Detect;Connection;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="426" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N89" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S8" name="Detect;Adjacency;Pairs" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N6" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S11" name="Detect;Backchannel;Cues" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N7" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S107" name="Detect;Directed;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N255" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S108" name="Detect;Mutual;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N256" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S112" name="Detect;Voice;Relations" comment="" hideLocalVar="false" hideGlobalVar="false" start="S10;S111;S150;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N225" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S10" name="Detect;Voice Activity;Overlaps" comment="" hideLocalVar="false" hideGlobalVar="false" start="S78;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="201" yPos="16"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N226" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S78" name="None; Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N228;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverlappingAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverlappingUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S113" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="317" yPos="266" ctrlXPos="340" ctrlYPos="181"/>
                  <ControlPoint xPos="506" yPos="146" ctrlXPos="421" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S114" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="317" yPos="346" ctrlXPos="340" ctrlYPos="430"/>
                  <ControlPoint xPos="506" yPos="466" ctrlXPos="421" ctrlYPos="466"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="266" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N227" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N228" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N228" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S113" name="Agent Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N230;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverlappingAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverlappingUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S78" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="523" yPos="186" ctrlXPos="474" ctrlYPos="270"/>
                  <ControlPoint xPos="346" yPos="295" ctrlXPos="430" ctrlYPos="271"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S116" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="146" ctrlXPos="646" ctrlYPos="146"/>
                  <ControlPoint xPos="746" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N229" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N230" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N230" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S114" name="User Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N232;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverlappingAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="AgentOverlappingUser"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S78" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="523" yPos="426" ctrlXPos="474" ctrlYPos="341"/>
                  <ControlPoint xPos="346" yPos="317" ctrlXPos="430" ctrlYPos="340"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S117" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="466" ctrlXPos="646" ctrlYPos="466"/>
                  <ControlPoint xPos="746" yPos="466" ctrlXPos="686" ctrlYPos="466"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N231" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N232" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N232" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
                  <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S115" name="Both Are;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N234;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S114" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="317" ctrlXPos="661" ctrlYPos="340"/>
                  <ControlPoint xPos="569" yPos="426" ctrlXPos="617" ctrlYPos="341"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S78" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="306" ctrlXPos="566" ctrlYPos="306"/>
                  <ControlPoint xPos="346" yPos="306" ctrlXPos="526" ctrlYPos="306"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S113" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="295" ctrlXPos="661" ctrlYPos="271"/>
                  <ControlPoint xPos="569" yPos="186" ctrlXPos="617" ctrlYPos="270"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="746" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N233" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="186" yPos="186"/>
              </Graphics>
            </Node>
            <Node id="N234" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N234" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="236" yPos="267" ctrlXPos="256" ctrlYPos="189"/>
                  <ControlPoint xPos="261" yPos="286" ctrlXPos="331" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="186" yPos="266"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S116" name="User;Overlaps;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserOverlappingAgent"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S115" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="206"/>
                <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="746" yPos="106"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N235" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S117" name="Agent;Overlaps;User" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentOverlappingUser"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <EEdge target="S115" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="426" ctrlXPos="786" ctrlYPos="406"/>
                <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="366"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="746" yPos="426"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N236" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S150" name="Detect;Voice Activity;Conflicts" comment="" hideLocalVar="false" hideGlobalVar="false" start="S154;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="191" yPos="7"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="700" yPos="395" width="156" height="62"/>
            </Graphics>
            <Text style="color:blue">
              We also need to detect backchannels during overlaps in this process
            </Text>
          </Comment>
          <Node id="N237" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S151" name="User;Barging In;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N239;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBargingInAgent"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                  <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverlappingAgent"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N238" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="49" yPos="154"/>
              </Graphics>
            </Node>
            <Node id="N239" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N239" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="49" yPos="234"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S152" name="Await;Timeout" comment="" hideLocalVar="false" hideGlobalVar="false" start="N241;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="826" yPos="346" ctrlXPos="806" ctrlYPos="366"/>
                  <ControlPoint xPos="666" yPos="346" ctrlXPos="686" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverlappingAgent"/>
              </Not>
            </IEdge>
            <IEdge target="S156" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="866" yPos="266" ctrlXPos="866" ctrlYPos="246"/>
                  <ControlPoint xPos="866" yPos="106" ctrlXPos="867" ctrlYPos="120"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Int value="1000"/>
              </TimeoutCondition>
            </IEdge>
            <Graphics>
              <Position xPos="826" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N240" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="40" yPos="157"/>
              </Graphics>
            </Node>
            <Node id="N241" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N241" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="40" yPos="237"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S153" name="Await;Timeout" comment="" hideLocalVar="false" hideGlobalVar="false" start="N243;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="346" ctrlXPos="446" ctrlYPos="366"/>
                  <ControlPoint xPos="586" yPos="346" ctrlXPos="566" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="AgentOverlappingUser"/>
              </Not>
            </IEdge>
            <IEdge target="S157" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="366"/>
                  <ControlPoint xPos="386" yPos="506" ctrlXPos="386" ctrlYPos="486"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Int value="1000"/>
              </TimeoutCondition>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N242" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="37" yPos="162"/>
              </Graphics>
            </Node>
            <Node id="N243" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N243" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="37" yPos="242"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S154" name="No;Turn;Conflict" comment="" hideLocalVar="false" hideGlobalVar="false" start="N245;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBearingUpAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Assign>
                <Variable name="UserBargingInAgent"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S153" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="266" ctrlXPos="566" ctrlYPos="246"/>
                  <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Variable name="AgentOverlappingUser"/>
            </IEdge>
            <IEdge target="S152" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="266" ctrlXPos="686" ctrlYPos="246"/>
                  <ControlPoint xPos="826" yPos="266" ctrlXPos="806" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              <Variable name="UserOverlappingAgent"/>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="266"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N244" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="33" yPos="156"/>
              </Graphics>
            </Node>
            <Node id="N245" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N245" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="33" yPos="236"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S155" name="User;Bearing Up;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N247;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="UserBearingUpAgent"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S154" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="626" yPos="506" ctrlXPos="626" ctrlYPos="486"/>
                  <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="366"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="AgentOverlappingUser"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N246" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="21" yPos="151"/>
              </Graphics>
            </Node>
            <Node id="N247" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N247" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="21" yPos="231"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S156" name="User;Barges In" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Play>
                <String><![CDATA[[wizard output text=turn_conflict_detected]]]></String>
              </Play>
              <PrologQuery>
              <String><![CDATA[signal(user, turn, conflict).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S151" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="826" yPos="66" ctrlXPos="806" ctrlYPos="66"/>
                <ControlPoint xPos="666" yPos="66" ctrlXPos="686" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="826" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N248" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S157" name="User;Bears Up" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Play>
                <String><![CDATA[[wizard output text=turn_conflict_detected]]]></String>
              </Play>
              <PrologQuery>
              <String><![CDATA[signal(user, turn, conflict).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S155" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="546" ctrlXPos="446" ctrlYPos="546"/>
                <ControlPoint xPos="586" yPos="546" ctrlXPos="566" ctrlYPos="546"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N249" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="26" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S111" name="Detect;Verbal;Backchannels" comment="" hideLocalVar="false" hideGlobalVar="false" start="S165;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="586" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N282" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S140" name="No;Backchannel;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N285;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S165" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="106" ctrlXPos="452" ctrlYPos="159"/>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="479" ctrlYPos="132"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverlappingAgent"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N284" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N285" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N285" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S165" name="No;Voice;Overlap" comment="" hideLocalVar="false" hideGlobalVar="false" start="N287;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S168" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                  <ControlPoint xPos="666" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              <Variable name="UserOverlappingAgent"/>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N286" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="33" yPos="156"/>
              </Graphics>
            </Node>
            <Node id="N287" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N287" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="33" yPos="236"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S168" name="User;Overlapping;Agent" comment="" hideLocalVar="false" hideGlobalVar="false" start="N289;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S140" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="186" ctrlXPos="612" ctrlYPos="132"/>
                  <ControlPoint xPos="586" yPos="106" ctrlXPos="639" ctrlYPos="159"/>
                </Connection>
              </Graphics>
              <TimeoutCondition>
              <Int value="1000"/>
              </TimeoutCondition>
            </IEdge>
            <IEdge target="S169" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="266" ctrlXPos="612" ctrlYPos="319"/>
                  <ControlPoint xPos="586" yPos="346" ctrlXPos="639" ctrlYPos="292"/>
                </Connection>
              </Graphics>
              <Not>
                <Variable name="UserOverlappingAgent"/>
              </Not>
            </IEdge>
            <Graphics>
              <Position xPos="666" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N288" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="40" yPos="157"/>
              </Graphics>
            </Node>
            <Node id="N289" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N289" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                  <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="40" yPos="237"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S169" name="Produce;Backchannel;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[signal(user, back, verbal).]]></String>
              </PrologQuery>
            </Commands>
            <EEdge target="S165" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="346" ctrlXPos="452" ctrlYPos="292"/>
                <ControlPoint xPos="426" yPos="266" ctrlXPos="479" ctrlYPos="319"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N290" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="0" yPos="0"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S170" name="Detect;Adjacencies;/ Responses" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N291" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S46" name="Detect;Overlaps /;Continuers" comment="" hideLocalVar="false" hideGlobalVar="false" start="S175;">
          <Define>
          </Define>
          <Declare>
            <Variable type="String" name ="Start">
              <String><![CDATA[]]></String>
            </Variable>
            <Variable type="String" name ="End">
              <String><![CDATA[]]></String>
            </Variable>
            <Variable type="String" name ="Dur">
              <String><![CDATA[]]></String>
            </Variable>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="615" yPos="342"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Comment>
            <Graphics>
              <Boundary xPos="257" yPos="287" width="199" height="79"/>
            </Graphics>
            <Text style="color:blue">
              We stay in this node whenever the user has started speaking before the agent, no matter if the agent overlaps the user in between.
            </Text>
          </Comment>
          <Node id="N26" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S58" name="Agent;Is Still;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N48;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S175" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="906" yPos="363" ctrlXPos="787" ctrlYPos="294"/>
                  <ControlPoint xPos="666" yPos="249" ctrlXPos="784" ctrlYPos="317"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S181" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="906" yPos="409" ctrlXPos="821" ctrlYPos="457"/>
                  <ControlPoint xPos="746" yPos="523" ctrlXPos="830" ctrlYPos="474"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="906" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N46" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N48" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N48" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S167" name="User Has;Started;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N87;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S175" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="346" yPos="215" ctrlXPos="446" ctrlYPos="187"/>
                  <ControlPoint xPos="586" yPos="215" ctrlXPos="486" ctrlYPos="187"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="266" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N72" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="282" yPos="50"/>
              </Graphics>
            </Node>
            <Node id="N87" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N87" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="282" yPos="130"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S175" name="None Is;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N187;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[stop(overlap).]]></String>
              </PrologQuery>
            </Commands>
            <IEdge target="S176" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="215" ctrlXPos="766" ctrlYPos="187"/>
                  <ControlPoint xPos="906" yPos="215" ctrlXPos="806" ctrlYPos="187"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S167" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="586" yPos="237" ctrlXPos="486" ctrlYPos="264"/>
                  <ControlPoint xPos="346" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="586" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N186" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="290" yPos="31"/>
              </Graphics>
            </Node>
            <Node id="N187" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N187" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="290" yPos="111"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S176" name="Agent Has;Started;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N189;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S175" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="906" yPos="226" ctrlXPos="806" ctrlYPos="226"/>
                  <ControlPoint xPos="666" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S58" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="946" yPos="266" ctrlXPos="946" ctrlYPos="286"/>
                  <ControlPoint xPos="946" yPos="346" ctrlXPos="946" ctrlYPos="326"/>
                </Connection>
              </Graphics>
              <PrologQuery>
              <String><![CDATA[timeout(overlap, 5000).]]></String>
              </PrologQuery>
            </IEdge>
            <IEdge target="S177" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="946" yPos="186" ctrlXPos="946" ctrlYPos="166"/>
                  <ControlPoint xPos="946" yPos="106" ctrlXPos="946" ctrlYPos="126"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="906" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N188" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="252" yPos="61"/>
              </Graphics>
            </Node>
            <Node id="N189" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N189" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="252" yPos="141"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S177" name="Both Are;Initially;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N200;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[now(Start).]]></String>
              </PrologQuery>
            </Commands>
            <IEdge target="S178" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="906" yPos="66" ctrlXPos="726" ctrlYPos="66"/>
                  <ControlPoint xPos="506" yPos="66" ctrlXPos="686" ctrlYPos="66"/>
                </Connection>
              </Graphics>
              <And>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
                <Variable name="UserSpeaking"/>
              </And>
            </IEdge>
            <IEdge target="S180" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="986" yPos="106" ctrlXPos="1039" ctrlYPos="159"/>
                  <ControlPoint xPos="1066" yPos="186" ctrlXPos="1012" ctrlYPos="132"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="906" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N197" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N200" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N200" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S178" name="Turn-Initial;Continuer;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[now(End), Dur is End - ]]></String>
                  <Variable name="Start"/>
                </Add>
                <String><![CDATA[.]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <EEdge target="S167" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="106" ctrlXPos="372" ctrlYPos="159"/>
                <ControlPoint xPos="346" yPos="186" ctrlXPos="399" ctrlYPos="132"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="426" yPos="26"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N201" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="0" yPos="0"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S179" name="Turn-Internal;Overlap;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[now(End), Dur is End - ]]></String>
                  <Variable name="Start"/>
                </Add>
                <String><![CDATA[.]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <EEdge target="S58" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="1066" yPos="506" ctrlXPos="1012" ctrlYPos="452"/>
                <ControlPoint xPos="986" yPos="426" ctrlXPos="1039" ctrlYPos="479"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="1066" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N220" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S180" name="Turn-Initial;Overlap;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[now(End), Dur is End - ]]></String>
                  <Variable name="Start"/>
                </Add>
                <String><![CDATA[.]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <EEdge target="S58" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="1066" yPos="266" ctrlXPos="1012" ctrlYPos="319"/>
                <ControlPoint xPos="986" yPos="346" ctrlXPos="1039" ctrlYPos="292"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="1066" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N221" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S181" name="Both Are;Internally;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="N223;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <String><![CDATA[now(Start).]]></String>
              </PrologQuery>
            </Commands>
            <IEdge target="S179" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="746" yPos="546" ctrlXPos="886" ctrlYPos="546"/>
                  <ControlPoint xPos="1066" yPos="546" ctrlXPos="926" ctrlYPos="546"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="AgentSpeaking"/>
                <Not>
                  <Variable name="UserSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <IEdge target="S182" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="523" ctrlXPos="581" ctrlYPos="474"/>
                  <ControlPoint xPos="506" yPos="409" ctrlXPos="590" ctrlYPos="457"/>
                </Connection>
              </Graphics>
              <And>
                <Variable name="UserSpeaking"/>
                <Not>
                  <Variable name="AgentSpeaking"/>
                </Not>
              </And>
            </IEdge>
            <Graphics>
              <Position xPos="666" yPos="506"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N222" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N223" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N223" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                  <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="266" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S182" name="Turn-Internal;Continuer;Detected" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S167" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="346" ctrlXPos="372" ctrlYPos="292"/>
                <ControlPoint xPos="346" yPos="266" ctrlXPos="399" ctrlYPos="319"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="426" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N257" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="0" yPos="0"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S256" name="Detect Touch;Turn-Taking;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S31;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="506" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N113" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="186" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S1" name="User Is;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="S100;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S99" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="286"/>
                <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <Not>
              <Variable name="UserDragging"/>
            </Not>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N34" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
          <SuperNode id="S100" name="User;Averts;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="N96;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S101" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="UserGaze"/>
                <String><![CDATA[agent]]></String>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N55" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N96" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N96" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
                  <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S101" name="User;Mutual;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="N97;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Play>
                <String><![CDATA[[wizard output text=user_elicits_feedback]]]></String>
              </Play>
              <PrologQuery>
              <String><![CDATA[signal(elicit).]]></String>
              </PrologQuery>
            </Commands>
            <IEdge target="S100" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
                  <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
                </Connection>
              </Graphics>
              <Neq>
                <Variable name="UserGaze"/>
                <String><![CDATA[agent]]></String>
              </Neq>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N95" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N97" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N97" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
                  <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S2" name="User;Stops;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=user_stops_drag]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(user, drag, stop).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S31" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="346" yPos="386" ctrlXPos="316" ctrlYPos="386"/>
              <ControlPoint xPos="266" yPos="443" ctrlXPos="295" ctrlYPos="426"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N35" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S17" name="User Is;Still Not;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="N38;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S2" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="506" ctrlXPos="501" ctrlYPos="421"/>
                <ControlPoint xPos="426" yPos="386" ctrlXPos="510" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="2000"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S21" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="546" ctrlXPos="526" ctrlYPos="546"/>
                <ControlPoint xPos="426" yPos="546" ctrlXPos="486" ctrlYPos="546"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="UserGaze"/>
              <String><![CDATA[agent]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S33" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="546" ctrlXPos="750" ctrlYPos="546"/>
                <ControlPoint xPos="866" yPos="426" ctrlXPos="866" ctrlYPos="510"/>
              </Connection>
            </Graphics>
            <Variable name="UserDragging"/>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N37" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N38" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N38" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S21" name="User;Stops;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=user_stops_drag]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(user, drag, stop).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S31" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="346" yPos="546" ctrlXPos="316" ctrlYPos="546"/>
              <ControlPoint xPos="266" yPos="489" ctrlXPos="295" ctrlYPos="505"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N39" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S30" name="User Is;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserDragging"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S98" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="237" yPos="266" ctrlXPos="245" ctrlYPos="236"/>
              <ControlPoint xPos="346" yPos="226" ctrlXPos="316" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="186" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N40" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S31" name="User Is Not;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="N59;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserDragging"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S30" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="226" yPos="426" ctrlXPos="226" ctrlYPos="406"/>
                <ControlPoint xPos="226" yPos="346" ctrlXPos="226" ctrlYPos="366"/>
              </Connection>
            </Graphics>
            <Variable name="UserDragging"/>
          </IEdge>
          <Graphics>
            <Position xPos="186" yPos="426"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N58" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N59" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N59" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S33" name="User;Continues;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=user_continues_drag]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(user, drag, continue).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S1" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="866" yPos="346" ctrlXPos="866" ctrlYPos="261"/>
              <ControlPoint xPos="666" yPos="226" ctrlXPos="750" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="826" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N68" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S99" name="User Is Not;Draging" comment="" hideLocalVar="false" hideGlobalVar="false" start="S102;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S33" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="386" ctrlXPos="726" ctrlYPos="386"/>
                <ControlPoint xPos="826" yPos="386" ctrlXPos="766" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Variable name="UserDragging"/>
          </IEdge>
          <IEdge target="S17" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="626" yPos="426" ctrlXPos="626" ctrlYPos="446"/>
                <ControlPoint xPos="626" yPos="506" ctrlXPos="626" ctrlYPos="486"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="750"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N90" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
          <SuperNode id="S102" name="User;Averts;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="N104;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <IEdge target="S103" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                  <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="UserGaze"/>
                <String><![CDATA[agent]]></String>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N98" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N104" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N104" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
                  <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S103" name="User;Mutual;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="N106;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Play>
                <String><![CDATA[[wizard output text=user_elicits_feedback]]]></String>
              </Play>
              <PrologQuery>
              <String><![CDATA[signal(elicit).]]></String>
              </PrologQuery>
            </Commands>
            <IEdge target="S102" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
                  <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
                </Connection>
              </Graphics>
              <Neq>
                <Variable name="UserGaze"/>
                <String><![CDATA[agent]]></String>
              </Neq>
            </IEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N105" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
            <Node id="N106" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N106" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="187" ctrlXPos="416" ctrlYPos="109"/>
                  <ControlPoint xPos="421" yPos="206" ctrlXPos="491" ctrlYPos="166"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S98" name="User Starts;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=user_starts_drag]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(user, drag, start).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="S1" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
              <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N94" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S6" name="Detect;Feedback;Eliciting" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="666" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N4" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="0" yPos="0"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S7" name="Detect;Emotion;Mimicry" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="666" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N5" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="0" yPos="0"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S12" name="Detect;Gaze;Relations" comment="" hideLocalVar="false" hideGlobalVar="false" start="S13;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="471" yPos="273"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N12" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S13" name="One Is;Looking;Nowhere" comment="" hideLocalVar="false" hideGlobalVar="false" start="N30;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="SharedGaze"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="MutualGaze"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <IEdge target="S53" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="486" ctrlYPos="126"/>
                <ControlPoint xPos="666" yPos="186" ctrlXPos="606" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <And>
              <Neq>
                <Variable name="UserGaze"/>
                <String><![CDATA[]]></String>
              </Neq>
              <Neq>
                <Variable name="AgentGaze"/>
                <String><![CDATA[]]></String>
              </Neq>
            </And>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N28" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N30" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N30" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S53" name="Both Are;Looking;Somewhere" comment="" hideLocalVar="false" hideGlobalVar="false" start="S66;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S13" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="266" ctrlXPos="606" ctrlYPos="326"/>
                <ControlPoint xPos="426" yPos="266" ctrlXPos="486" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <Or>
              <Eq>
                <Variable name="UserGaze"/>
                <String><![CDATA[]]></String>
              </Eq>
              <Eq>
                <Variable name="AgentGaze"/>
                <String><![CDATA[]]></String>
              </Eq>
            </Or>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N32" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S66" name="Different;Gaze;Targets" comment="" hideLocalVar="false" hideGlobalVar="false" start="S67;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="SharedGaze"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S82" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="426" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                  <ControlPoint xPos="666" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
                </Connection>
              </Graphics>
              <Eq>
                <Variable name="UserGaze"/>
                <Variable name="AgentGaze"/>
              </Eq>
            </IEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N63" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S67" name="No;Mutual;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="N108;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="MutualGaze"/>
                  <Expression>
                    <Bool value="false"/>
                  </Expression>
                </Assign>
              </Commands>
              <IEdge target="S173" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="566" ctrlYPos="226"/>
                    <ControlPoint xPos="746" yPos="226" ctrlXPos="606" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <And>
                  <Eq>
                    <Variable name="UserGaze"/>
                    <String><![CDATA[agent]]></String>
                  </Eq>
                  <Eq>
                    <Variable name="AgentGaze"/>
                    <String><![CDATA[user]]></String>
                  </Eq>
                </And>
              </IEdge>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N64" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N108" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N108" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S81" name="Mutual;Facial;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="N116;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <Assign>
                  <Variable name="MutualGaze"/>
                  <Expression>
                    <Bool value="true"/>
                  </Expression>
                </Assign>
              </Commands>
              <IEdge target="S174" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="746" yPos="386" ctrlXPos="606" ctrlYPos="386"/>
                    <ControlPoint xPos="426" yPos="386" ctrlXPos="566" ctrlYPos="386"/>
                  </Connection>
                </Graphics>
                <Or>
                  <Neq>
                    <Variable name="UserGaze"/>
                    <String><![CDATA[agent]]></String>
                  </Neq>
                  <Neq>
                    <Variable name="AgentGaze"/>
                    <String><![CDATA[user]]></String>
                  </Neq>
                </Or>
              </IEdge>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N109" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N116" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N116" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S173" name="Start;Mutual;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <Add>
                  <Add>
                    <String><![CDATA[signal(both, startMutual, ]]></String>
                    <Variable name="UserGaze"/>
                  </Add>
                  <String><![CDATA[).]]></String>
                </Add>
                </PrologQuery>
              </Commands>
              <EEdge target="S81" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="286"/>
                  <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="326"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="746" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N118" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S174" name="Stop;Mutual;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <Add>
                  <Add>
                    <String><![CDATA[signal(both, stopMutual, ]]></String>
                    <Variable name="UserGaze"/>
                  </Add>
                  <String><![CDATA[).]]></String>
                </Add>
                </PrologQuery>
              </Commands>
              <EEdge target="S67" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="326"/>
                  <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="286"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N119" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S82" name="Start;Sharing;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[signal(both, startShared, ]]></String>
                  <Variable name="UserGaze"/>
                </Add>
                <String><![CDATA[).]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <EEdge target="S171" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="706" yPos="266" ctrlXPos="706" ctrlYPos="286"/>
                <ControlPoint xPos="706" yPos="346" ctrlXPos="706" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="666" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N117" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S171" name="Sharing;Gaze;Target" comment="" hideLocalVar="false" hideGlobalVar="false" start="N294;">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="SharedGaze"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
            </Commands>
            <IEdge target="S172" start="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="666" yPos="386" ctrlXPos="566" ctrlYPos="386"/>
                  <ControlPoint xPos="426" yPos="386" ctrlXPos="526" ctrlYPos="386"/>
                </Connection>
              </Graphics>
              <Neq>
                <Variable name="UserGaze"/>
                <Variable name="AgentGaze"/>
              </Neq>
            </IEdge>
            <Graphics>
              <Position xPos="666" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N292" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <Node id="N294" name="Wait" history="false">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <EEdge target="N294" start ="">
              <Graphics>
                <Connection>
                  <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                  <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                </Connection>
              </Graphics>
              </EEdge>
              <Graphics>
                <Position xPos="346" yPos="106"/>
              </Graphics>
            </Node>
          </SuperNode>
          <SuperNode id="S172" name="Stop;Sharing;Gaze" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[signal(both, stopShared, ]]></String>
                  <Variable name="UserGaze"/>
                </Add>
                <String><![CDATA[).]]></String>
              </Add>
              </PrologQuery>
            </Commands>
            <EEdge target="S66" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="346" ctrlXPos="386" ctrlYPos="326"/>
                <ControlPoint xPos="386" yPos="266" ctrlXPos="386" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="346"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N293" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
          </SuperNode>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S122" name="Detect;Nonverbal;Backchannels" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="666" yPos="346"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N120" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="26" yPos="26"/>
          </Graphics>
        </Node>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S16" name="System;Monitoring;Processes" comment="" hideLocalVar="false" hideGlobalVar="false" start="S135;S166;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="266" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N24" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S135" name="Statistical;Reporting;Processes" comment="" hideLocalVar="false" hideGlobalVar="false" start="N25;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="506" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N172" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
        </Node>
        <Node id="N25" name="Get; System; Time" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[now(SystemTime).]]></String>
            </PrologQuery>
          </Commands>
          <EEdge target="N25" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="636" yPos="107" ctrlXPos="656" ctrlYPos="29"/>
              <ControlPoint xPos="661" yPos="126" ctrlXPos="731" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S42" name="Report;Fact Base;Statistics" comment="" hideLocalVar="false" hideGlobalVar="false" start="N182;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[statistics.]]></String>
            </PrologQuery>
          </Commands>
          <IEdge target="S42" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="466" yPos="106" ctrlXPos="466" ctrlYPos="26"/>
                <ControlPoint xPos="506" yPos="106" ctrlXPos="586" ctrlYPos="26"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[timeout(status, 5000).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N181" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N182" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N182" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S166" name="Garbage;Collection;Processes" comment="" hideLocalVar="false" hideGlobalVar="false" start="S43;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="666" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N183" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S43" name="Collect;Fact Base;Garbage" comment="" hideLocalVar="false" hideGlobalVar="false" start="N185;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <String><![CDATA[clean(speech, 30000).]]></String>
            </PrologQuery>
            <PrologQuery>
            <String><![CDATA[clean(gaze, 10000).]]></String>
            </PrologQuery>
          </Commands>
          <IEdge target="S43" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="31"/>
                <ControlPoint xPos="586" yPos="106" ctrlXPos="666" ctrlYPos="31"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[timeout(trash, 5000).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="506" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N184" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="266" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N185" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N185" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="316" yPos="107" ctrlXPos="336" ctrlYPos="29"/>
                <ControlPoint xPos="341" yPos="126" ctrlXPos="411" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="266" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S20" name="Decide;Role;Shifting" comment="" hideLocalVar="false" hideGlobalVar="false" start="S22;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="746" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Comment>
        <Graphics>
          <Boundary xPos="231" yPos="281" width="370" height="93"/>
        </Graphics>
        <Text style="color:blue">
          This process determines the assignment of the different participant roles to the user and the agent as well as the shifts of these participant roles between the user and the agent. The determination of the participant roles is based on the attendance of the interaction partners as well as the role regulation signals.
        </Text>
      </Comment>
      <Node id="N1" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="106"/>
        </Graphics>
      </Node>
      <SuperNode id="S22" name="No;Interaction" comment="" hideLocalVar="false" hideGlobalVar="false" start="N52;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Assign>
            <Variable name="UserRole"/>
            <Expression>
              <String><![CDATA[absent]]></String>
            </Expression>
          </Assign>
          <Assign>
            <Variable name="AgentRole"/>
            <Expression>
              <String><![CDATA[absent]]></String>
            </Expression>
          </Assign>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <IEdge target="S27" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="106" ctrlXPos="526" ctrlYPos="86"/>
              <ControlPoint xPos="586" yPos="106" ctrlXPos="566" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          <And>
            <Variable name="UserPresent"/>
            <Variable name="AgentPresent"/>
          </And>
        </IEdge>
        <Graphics>
          <Position xPos="426" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N29" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N52" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N52" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
              <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S27" name="Interaction" comment="" hideLocalVar="false" hideGlobalVar="false" start="S28;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S22" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="186" ctrlXPos="566" ctrlYPos="206"/>
              <ControlPoint xPos="506" yPos="186" ctrlXPos="526" ctrlYPos="206"/>
            </Connection>
          </Graphics>
          <Or>
            <Not>
              <Variable name="UserPresent"/>
            </Not>
            <Not>
              <Variable name="AgentPresent"/>
            </Not>
          </Or>
        </IEdge>
        <Graphics>
          <Position xPos="586" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N51" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S28" name="Bystander" comment="" hideLocalVar="false" hideGlobalVar="false" start="S59;S51;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[bystander]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[bystander]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="295" ctrlXPos="766" ctrlYPos="267"/>
                <ControlPoint xPos="906" yPos="295" ctrlXPos="806" ctrlYPos="267"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(user, role, occupy).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="295" ctrlXPos="486" ctrlYPos="267"/>
                <ControlPoint xPos="346" yPos="295" ctrlXPos="446" ctrlYPos="267"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(agent, role, occupy).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N53" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S59" name="User;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S63;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S59" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N8" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S62" name="Yield;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N13" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S63" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N141;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S65" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N15" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N141" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N141" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S65" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S68" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[take]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S79" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="266" ctrlXPos="532" ctrlYPos="319"/>
                    <ControlPoint xPos="506" yPos="346" ctrlXPos="559" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[hold]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S62" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="266" ctrlXPos="719" ctrlYPos="319"/>
                    <ControlPoint xPos="746" yPos="346" ctrlXPos="692" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[yield]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S80" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[assign]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N18" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S68" name="Take;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, occupy).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N19" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S79" name="Hold;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N31" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S80" name="Assign;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N57" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S51" name="Agent;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S258;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S51" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N125" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S257" name="Release;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N135" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S258" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N143;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S259" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N136" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N143" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N143" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S259" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S260" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S257" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[release]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N137" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S260" name="Request;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, accepted).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, occupy).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N138" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S29" name="Speaker" comment="" hideLocalVar="false" hideGlobalVar="false" start="S104;S292;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[addressee]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[speaker]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[nothing]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[nothing]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="317" ctrlXPos="446" ctrlYPos="344"/>
                <ControlPoint xPos="586" yPos="317" ctrlXPos="485" ctrlYPos="343"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(agent, role, release).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S35" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="346" ctrlXPos="455" ctrlYPos="455"/>
                <ControlPoint xPos="506" yPos="506" ctrlXPos="396" ctrlYPos="396"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(agent, role, offer).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="283" ctrlXPos="606" ctrlYPos="133"/>
                <ControlPoint xPos="906" yPos="283" ctrlXPos="646" ctrlYPos="133"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(user, role, conquer).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="306" yPos="266" ctrlXPos="306" ctrlYPos="186"/>
                <ControlPoint xPos="266" yPos="306" ctrlXPos="186" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(agent, role, claim).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="317" yPos="266" ctrlXPos="437" ctrlYPos="72"/>
                <ControlPoint xPos="935" yPos="266" ctrlXPos="847" ctrlYPos="49"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(agent, role, giveup).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N69" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S104" name="Agent;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S288;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S104" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N349" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S288" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N363;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S289" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N357" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N363" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N363" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S289" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S290" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S291" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[release]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N364" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S290" name="Request;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N365" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S291" name="Release;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, offer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N366" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S292" name="User;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S294;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S292" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Comment>
              <Graphics>
                <Boundary xPos="300" yPos="399" width="296" height="105"/>
              </Graphics>
              <Text style="color:blue">
                The user can stop speaking in the listener role, if he was interrupted before if he himself started and interrupted the agent but also stopped again before the role switch has been realized due to a lenghty interrupt handling in the dialog process.
              </Text>
            </Comment>
            <Node id="N367" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S293" name="Yield;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, release).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="506" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N368" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S294" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N370;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S295" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="786" yPos="106" ctrlXPos="786" ctrlYPos="126"/>
                    <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="746" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N369" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N370" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N370" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S295" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S293" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="746" yPos="215" ctrlXPos="679" ctrlYPos="196"/>
                    <ControlPoint xPos="586" yPos="157" ctrlXPos="652" ctrlYPos="175"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[yield]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S298" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="746" yPos="237" ctrlXPos="679" ctrlYPos="255"/>
                    <ControlPoint xPos="586" yPos="295" ctrlXPos="652" ctrlYPos="276"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[assign]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S312" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="286"/>
                    <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="326"/>
                  </Connection>
                </Graphics>
                <Or>
                  <Eq>
                    <Variable name="Name"/>
                    <String><![CDATA[take]]></String>
                  </Eq>
                  <Eq>
                    <Variable name="Name"/>
                    <String><![CDATA[hold]]></String>
                  </Eq>
                </Or>
              </IEdge>
              <IEdge target="S3" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="886" ctrlYPos="226"/>
                    <ControlPoint xPos="986" yPos="226" ctrlXPos="926" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[conflict]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="746" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N371" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S296" name="Interject;Agent;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, interjected).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(user, role, conquer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="586" yPos="506"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N372" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S298" name="Assign;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, release).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="506" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N374" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S312" name="Check;Interject;Policy" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S296" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="746" yPos="426" ctrlXPos="692" ctrlYPos="479"/>
                    <ControlPoint xPos="666" yPos="506" ctrlXPos="719" ctrlYPos="452"/>
                  </Connection>
                </Graphics>
                <Variable name="AgentInterjectable"/>
              </IEdge>
              <IEdge target="S313" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="826" yPos="426" ctrlXPos="879" ctrlYPos="479"/>
                    <ControlPoint xPos="906" yPos="506" ctrlXPos="852" ctrlYPos="452"/>
                  </Connection>
                </Graphics>
                <Not>
                  <Variable name="AgentInterjectable"/>
                </Not>
              </IEdge>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N392" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S313" name="Do Not;Interject;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, occupy).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="906" yPos="506"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N393" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S19" name="Interrupt;Agent;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, interrupted).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(user, role, conquer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="1226" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N20" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S3" name="Check;Interrupt;Policy" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S19" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="1066" yPos="215" ctrlXPos="1132" ctrlYPos="196"/>
                    <ControlPoint xPos="1226" yPos="157" ctrlXPos="1159" ctrlYPos="175"/>
                  </Connection>
                </Graphics>
                <Variable name="AgentInterruptible"/>
              </IEdge>
              <IEdge target="S5" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="1066" yPos="237" ctrlXPos="1132" ctrlYPos="255"/>
                    <ControlPoint xPos="1226" yPos="295" ctrlXPos="1159" ctrlYPos="276"/>
                  </Connection>
                </Graphics>
                <Not>
                  <Variable name="AgentInterruptible"/>
                </Not>
              </IEdge>
              <Graphics>
                <Position xPos="986" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N2" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S5" name="Do Not;Interrupt;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="1226" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N3" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="0" yPos="0"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S32" name="Addressee" comment="" hideLocalVar="false" hideGlobalVar="false" start="S97;S267;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserRole"/>
              <Expression>
                <String><![CDATA[speaker]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentRole"/>
              <Expression>
                <String><![CDATA[addressee]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[nothing]]></String>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[nothing]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="317" ctrlXPos="806" ctrlYPos="344"/>
                <ControlPoint xPos="666" yPos="317" ctrlXPos="766" ctrlYPos="344"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(user, role, release).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S61" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="346" ctrlXPos="796" ctrlYPos="455"/>
                <ControlPoint xPos="746" yPos="506" ctrlXPos="855" ctrlYPos="396"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(user, role, offer).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="946" yPos="266" ctrlXPos="946" ctrlYPos="186"/>
                <ControlPoint xPos="986" yPos="306" ctrlXPos="1066" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(user, role, claim).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="923" yPos="266" ctrlXPos="773" ctrlYPos="95"/>
                <ControlPoint xPos="329" yPos="266" ctrlXPos="478" ctrlYPos="95"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(agent, role, conquer).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="906" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N107" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S97" name="Agent;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S263;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S97" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="453" yPos="99"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N147" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S262" name="Release;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="986" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N148" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S263" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N151;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S264" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="206"/>
                    <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="246"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="746" yPos="106"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N149" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N151" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N151" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S264" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S262" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="826" yPos="306" ctrlXPos="886" ctrlYPos="306"/>
                    <ControlPoint xPos="986" yPos="306" ctrlXPos="926" ctrlYPos="306"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[release]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S311" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="746" yPos="306" ctrlXPos="686" ctrlYPos="306"/>
                    <ControlPoint xPos="586" yPos="306" ctrlXPos="646" ctrlYPos="306"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="746" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N152" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S265" name="Conquer;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, accepted).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, conquer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N153" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S275" name="Leave;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, rejected).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="266" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N166" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S311" name="Check;Interrupt;Policy" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S265" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="506" yPos="295" ctrlXPos="439" ctrlYPos="276"/>
                    <ControlPoint xPos="346" yPos="237" ctrlXPos="412" ctrlYPos="255"/>
                  </Connection>
                </Graphics>
                <Variable name="UserInterruptible"/>
              </IEdge>
              <IEdge target="S275" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="506" yPos="317" ctrlXPos="439" ctrlYPos="335"/>
                    <ControlPoint xPos="346" yPos="375" ctrlXPos="412" ctrlYPos="356"/>
                  </Connection>
                </Graphics>
                <Not>
                  <Variable name="UserInterruptible"/>
                </Not>
              </IEdge>
              <Graphics>
                <Position xPos="506" yPos="266"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N391" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="26" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S267" name="User;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S269;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S267" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N155" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S268" name="Yield;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, release).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N156" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S269" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N158;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S270" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N157" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N158" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N158" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S270" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S271" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[take]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S272" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="266" ctrlXPos="532" ctrlYPos="319"/>
                    <ControlPoint xPos="506" yPos="346" ctrlXPos="559" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[hold]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S268" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="266" ctrlXPos="719" ctrlYPos="319"/>
                    <ControlPoint xPos="746" yPos="346" ctrlXPos="692" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[yield]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S273" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[assign]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N159" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S271" name="Take;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N160" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S272" name="Hold;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, claim).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N161" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S273" name="Assign;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, offer).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N162" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S35" name="Offering" comment="" hideLocalVar="false" hideGlobalVar="false" start="S305;S189;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentAction"/>
              <Expression>
                <String><![CDATA[offering]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="569" ctrlXPos="759" ctrlYPos="668"/>
                <ControlPoint xPos="957" yPos="346" ctrlXPos="1004" ctrlYPos="519"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(user, role, accept).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="506" ctrlXPos="652" ctrlYPos="439"/>
                <ControlPoint xPos="586" yPos="346" ctrlXPos="519" ctrlYPos="412"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="3000"/>
            </TimeoutCondition>
          </IEdge>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="546" ctrlXPos="396" ctrlYPos="546"/>
                <ControlPoint xPos="306" yPos="346" ctrlXPos="306" ctrlYPos="455"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(agent, role, reclaim)]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="586" ctrlXPos="553" ctrlYPos="769"/>
                <ControlPoint xPos="986" yPos="346" ctrlXPos="1246" ctrlYPos="589"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(user, role, occupy).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="506" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N110" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S189" name="User;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S300;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S189" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N375" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S299" name="Yield;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N376" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S300" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N378;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S301" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N377" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N378" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N378" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S301" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S302" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[take]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S303" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="266" ctrlXPos="532" ctrlYPos="319"/>
                    <ControlPoint xPos="506" yPos="346" ctrlXPos="559" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[hold]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S299" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="266" ctrlXPos="719" ctrlYPos="319"/>
                    <ControlPoint xPos="746" yPos="346" ctrlXPos="692" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[yield]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S304" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[assign]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N379" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S302" name="Take;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, accept).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N380" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S303" name="Hold;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, accept).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N381" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S304" name="Assign;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N382" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S305" name="Agent;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S307;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S305" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N383" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S306" name="Release;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N384" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S307" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N386;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S308" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N385" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N386" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N386" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S308" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S306" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[release]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S9" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="519" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="492" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N387" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S9" name="Request;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, accepted).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, reclaim).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N9" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
        <SuperNode id="S61" name="Offered" comment="" hideLocalVar="false" hideGlobalVar="false" start="S274;S282;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserAction"/>
              <Expression>
                <String><![CDATA[offering]]></String>
              </Expression>
            </Assign>
            <Play>
              <String><![CDATA[[wizard refresh]]]></String>
            </Play>
          </Commands>
          <IEdge target="S29" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="569" ctrlXPos="492" ctrlYPos="668"/>
                <ControlPoint xPos="295" yPos="346" ctrlXPos="247" ctrlYPos="519"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(agent, role, accept).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S32" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="546" ctrlXPos="855" ctrlYPos="546"/>
                <ControlPoint xPos="946" yPos="346" ctrlXPos="946" ctrlYPos="455"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(user, role, reclaim).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S28" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="506" ctrlXPos="599" ctrlYPos="439"/>
                <ControlPoint xPos="666" yPos="346" ctrlXPos="732" ctrlYPos="412"/>
              </Connection>
            </Graphics>
            <TimeoutCondition>
            <Int value="3000"/>
            </TimeoutCondition>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="506"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N111" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <SuperNode id="S274" name="User;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S277;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S274" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="386" yPos="186" ctrlXPos="386" ctrlYPos="106"/>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="506" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N173" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S276" name="Yield;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="746" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N174" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S277" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N250;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S278" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(user, turn, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N224" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N250" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N250" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S278" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S279" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[take]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S280" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="266" ctrlXPos="532" ctrlYPos="319"/>
                    <ControlPoint xPos="506" yPos="346" ctrlXPos="559" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[hold]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S276" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="266" ctrlXPos="719" ctrlYPos="319"/>
                    <ControlPoint xPos="746" yPos="346" ctrlXPos="692" ctrlYPos="292"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[yield]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S281" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[assign]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N251" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S279" name="Take;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(user, role, reclaim).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N252" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S280" name="Hold;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="426" yPos="346"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N253" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S281" name="Assign;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N254" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
          <SuperNode id="S282" name="Agent;Turn;Signals" comment="" hideLocalVar="false" hideGlobalVar="false" start="S284;">
            <Define>
            </Define>
            <Declare>
              <Variable type="String" name ="Name">
                <String><![CDATA[]]></String>
              </Variable>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="S282" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="106"/>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="666" ctrlYPos="106"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="506" yPos="186"/>
            </Graphics>
            <LocalVariableBadge>
              <Position xPos="676" yPos="109"/>
            </LocalVariableBadge>
            <GlobalVariableBadge>
              <Position xPos="10" yPos="10"/>
            </GlobalVariableBadge>
            <Node id="N266" name="History" history="true">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="26"/>
              </Graphics>
            </Node>
            <SuperNode id="S283" name="Release;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <Graphics>
                <Position xPos="826" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N273" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S284" name="Await;Turn;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N275;">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S285" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
                    <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                  </Connection>
                </Graphics>
                <PrologQuery>
                <String><![CDATA[remove(dialog, role, Name).]]></String>
                </PrologQuery>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="26"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N274" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
              <Node id="N275" name="Wait" history="false">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <EEdge target="N275" start ="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                    <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
                  </Connection>
                </Graphics>
                </EEdge>
                <Graphics>
                  <Position xPos="346" yPos="106"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S285" name="Check;Type" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
              </Commands>
              <IEdge target="S286" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
                    <ControlPoint xPos="426" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[request]]></String>
                </Eq>
              </IEdge>
              <IEdge target="S283" start="">
                <Graphics>
                  <Connection>
                    <ControlPoint xPos="666" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                    <ControlPoint xPos="826" yPos="226" ctrlXPos="766" ctrlYPos="226"/>
                  </Connection>
                </Graphics>
                <Eq>
                  <Variable name="Name"/>
                  <String><![CDATA[release]]></String>
                </Eq>
              </IEdge>
              <Graphics>
                <Position xPos="586" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N283" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
            <SuperNode id="S286" name="Request;Turn" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
              <Define>
              </Define>
              <Declare>
              </Declare>
              <Commands>
                <PrologQuery>
                <String><![CDATA[signal(role, dialog, accepted).]]></String>
                </PrologQuery>
                <PrologQuery>
                <String><![CDATA[signal(agent, role, accept).]]></String>
                </PrologQuery>
              </Commands>
              <Graphics>
                <Position xPos="346" yPos="186"/>
              </Graphics>
              <LocalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </LocalVariableBadge>
              <GlobalVariableBadge>
                <Position xPos="10" yPos="10"/>
              </GlobalVariableBadge>
              <Node id="N334" name="History" history="true">
                <Define>
                </Define>
                <Declare>
                </Declare>
                <Commands>
                </Commands>
                <Graphics>
                  <Position xPos="346" yPos="26"/>
                </Graphics>
              </Node>
            </SuperNode>
          </SuperNode>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S40" name="Handle;Input;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S139;S128;S118;S127;S138;S124;S14;S141;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="426" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Comment>
        <Graphics>
          <Boundary xPos="481" yPos="1" width="129" height="50"/>
        </Graphics>
        <Text style="color:blue">
          Bidirectional Events:
        </Text>
      </Comment>
      <Comment>
        <Graphics>
          <Boundary xPos="637" yPos="1" width="132" height="50"/>
        </Graphics>
        <Text style="color:blue">
          Unidirectional Events:
        </Text>
      </Comment>
      <Comment>
        <Graphics>
          <Boundary xPos="812" yPos="1" width="116" height="50"/>
        </Graphics>
        <Text style="color:blue">
          Semantic Events:
        </Text>
      </Comment>
      <Node id="N179" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="106"/>
        </Graphics>
      </Node>
      <SuperNode id="S118" name="Handle;Voice;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S23;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="VoiceEvent">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <EEdge target="S118" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="546" yPos="266" ctrlXPos="546" ctrlYPos="186"/>
            <ControlPoint xPos="586" yPos="266" ctrlXPos="666" ctrlYPos="186"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="506" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="676" yPos="193"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N180" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="1066" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S23" name="Get Next;Oldest;Voice Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N11;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S52" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="406" ctrlYPos="226"/>
                <ControlPoint xPos="586" yPos="226" ctrlXPos="526" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[oldest(voice, VoiceEvent).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N10" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N11" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N11" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S24" name="Check;Event;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S50" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="66" ctrlXPos="526" ctrlYPos="66"/>
                <ControlPoint xPos="346" yPos="66" ctrlXPos="406" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, start, ]]></String>
                <Variable name="VoiceEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S25" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="66" ctrlXPos="726" ctrlYPos="66"/>
                <ControlPoint xPos="906" yPos="66" ctrlXPos="846" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, stop, ]]></String>
                <Variable name="VoiceEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N14" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S25" name="User;Stops;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserSpeaking"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N16" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S34" name="Check;Event;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S74" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="386" ctrlXPos="526" ctrlYPos="386"/>
                <ControlPoint xPos="346" yPos="386" ctrlXPos="406" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, start, ]]></String>
                <Variable name="VoiceEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S69" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="386" ctrlXPos="726" ctrlYPos="386"/>
                <ControlPoint xPos="906" yPos="386" ctrlXPos="846" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, stop, ]]></String>
                <Variable name="VoiceEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N21" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S50" name="User;Starts;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserSpeaking"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N22" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S52" name="Check; Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S24" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, user, ]]></String>
                <Variable name="VoiceEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S34" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="286"/>
                <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, agent, ]]></String>
                <Variable name="VoiceEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N23" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S69" name="Agent;Stops;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentSpeaking"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N27" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S74" name="Agent;Starts;Speaking" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentSpeaking"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N56" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S127" name="Handle;Touch;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S84;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="TouchEvent">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="TouchData">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S127" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="866" yPos="106" ctrlXPos="866" ctrlYPos="26"/>
            <ControlPoint xPos="906" yPos="106" ctrlXPos="986" ctrlYPos="26"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="826" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="762" yPos="433"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N190" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S83" name="User;Stops;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserDragging"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserTouch"/>
              <Expression>
                <String><![CDATA[]]></String>
              </Expression>
            </Assign>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(touch, stop, ]]></String>
                <Variable name="TouchData"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="1146" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N65" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S84" name="Get Next;Oldest;Touch Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N100;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S125" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="386" ctrlXPos="544" ctrlYPos="386"/>
                <ControlPoint xPos="586" yPos="386" ctrlXPos="467" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[oldest(touch, TouchEvent).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N93" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N100" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N100" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S86" name="Check; Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S110" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="866" yPos="346" ctrlXPos="866" ctrlYPos="326"/>
                <ControlPoint xPos="866" yPos="266" ctrlXPos="866" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, user, ]]></String>
                <Variable name="TouchEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="826" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N102" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S110" name="Check;Event;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S119" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="826" yPos="226" ctrlXPos="726" ctrlYPos="226"/>
                <ControlPoint xPos="586" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data:type, start, ]]></String>
                <Variable name="TouchEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S83" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="906" yPos="226" ctrlXPos="1006" ctrlYPos="226"/>
                <ControlPoint xPos="1146" yPos="226" ctrlXPos="1046" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data:type, stop, ]]></String>
                <Variable name="TouchEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S126" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="866" yPos="186" ctrlXPos="866" ctrlYPos="166"/>
                <ControlPoint xPos="866" yPos="106" ctrlXPos="866" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data:type, drag, ]]></String>
                <Variable name="TouchEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="826" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N112" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S119" name="User;Starts;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserDragging"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
            <Assign>
              <Variable name="UserTouch"/>
              <Expression>
                <Variable name="TouchData"/>
              </Expression>
            </Assign>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(touch, start, ]]></String>
                <Variable name="TouchData"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N114" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S125" name="Get;Touch;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data:name, TouchData, ]]></String>
                <Variable name="TouchEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <EEdge target="S86" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="666" yPos="386" ctrlXPos="726" ctrlYPos="386"/>
              <ControlPoint xPos="826" yPos="386" ctrlXPos="766" ctrlYPos="386"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N178" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S126" name="User;Continues;Dragging" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(touch, drag, ]]></String>
                <Variable name="TouchData"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N103" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S128" name="Handle;Gaze;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S129;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="GazeEvent">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="GazeData">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S128" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="706" yPos="106" ctrlXPos="706" ctrlYPos="26"/>
            <ControlPoint xPos="746" yPos="106" ctrlXPos="826" ctrlYPos="26"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="666" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="829" yPos="201"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Comment>
          <Graphics>
            <Boundary xPos="854" yPos="353" width="237" height="92"/>
          </Graphics>
          <Text style="color:blue">
            The agent's gaze shifts, which means each change of the agent's current gaze target and thus it's visual focus of attention  have to be forwarded to the connection event detection processes.
          </Text>
        </Comment>
        <Comment>
          <Graphics>
            <Boundary xPos="868" yPos="37" width="239" height="94"/>
          </Graphics>
          <Text style="color:blue">
            The user's gaze shifts have to be forwarded to the connection event detection processes as well as to the processes that control the  automatic and reactive nonverbal behavior of the agent.
          </Text>
        </Comment>
        <Node id="N191" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S129" name="Get Next;Oldest;Gaze Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N193;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S85" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="406" ctrlYPos="226"/>
                <ControlPoint xPos="506" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[oldest(gaze, GazeEvent).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N192" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N193" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N193" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S130" name="Check;Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S131" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="186" ctrlXPos="786" ctrlYPos="166"/>
                <ControlPoint xPos="786" yPos="106" ctrlXPos="786" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, user, ]]></String>
                <Variable name="GazeEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S132" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="786" yPos="266" ctrlXPos="786" ctrlYPos="286"/>
                <ControlPoint xPos="786" yPos="346" ctrlXPos="786" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, agent, ]]></String>
                <Variable name="GazeEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="746" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N194" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S131" name="Check;Event;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S134" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="66" ctrlXPos="686" ctrlYPos="66"/>
                <ControlPoint xPos="586" yPos="66" ctrlXPos="646" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <Neq>
              <Variable name="GazeData"/>
              <Variable name="UserGaze"/>
            </Neq>
          </IEdge>
          <Graphics>
            <Position xPos="746" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N195" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S132" name="Check;Event;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S137" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="746" yPos="386" ctrlXPos="686" ctrlYPos="386"/>
                <ControlPoint xPos="586" yPos="386" ctrlXPos="646" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <Neq>
              <Variable name="GazeData"/>
              <Variable name="AgentGaze"/>
            </Neq>
          </IEdge>
          <Graphics>
            <Position xPos="746" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N196" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S134" name="New;Gaze;Target" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserGaze"/>
              <Expression>
                <Variable name="GazeData"/>
              </Expression>
            </Assign>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(user, shift, ]]></String>
                <Variable name="GazeData"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N199" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S137" name="New;Gaze;Target" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentGaze"/>
              <Expression>
                <Variable name="GazeData"/>
              </Expression>
            </Assign>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(agent, shift, ]]></String>
                <Variable name="GazeData"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="506" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N202" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S85" name="Get;Gaze;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data:name, GazeData, ]]></String>
                <Variable name="GazeEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <EEdge target="S130" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="586" yPos="226" ctrlXPos="646" ctrlYPos="226"/>
              <ControlPoint xPos="746" yPos="226" ctrlXPos="686" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N101" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S138" name="Handle;Speech;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S138" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="1186" yPos="106" ctrlXPos="1186" ctrlYPos="26"/>
            <ControlPoint xPos="1226" yPos="106" ctrlXPos="1306" ctrlYPos="26"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="1146" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N203" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S139" name="Handle;Facs;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S109;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="FacsEvent">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="FacsData">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S139" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="1026" yPos="106" ctrlXPos="1026" ctrlYPos="26"/>
            <ControlPoint xPos="1066" yPos="106" ctrlXPos="1146" ctrlYPos="26"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="986" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="639" yPos="197"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N204" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S109" name="Get Next;Oldest;Facs Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N164;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S120" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="406" ctrlYPos="226"/>
                <ControlPoint xPos="506" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[oldest(facs, FacsEvent).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N154" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N164" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N164" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S120" name="Get;Facs;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, FacsData, ]]></String>
                <Variable name="FacsEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <EEdge target="S121" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="166"/>
              <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="126"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N165" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S121" name="Check;Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S123" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="66" ctrlXPos="446" ctrlYPos="66"/>
                <ControlPoint xPos="346" yPos="66" ctrlXPos="406" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, user, ]]></String>
                <Variable name="FacsEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N171" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S123" name="New;Facs;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserFacs"/>
              <Expression>
                <Variable name="FacsData"/>
              </Expression>
            </Assign>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(facs, behavior, ]]></String>
                <Variable name="FacsData"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N175" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S141" name="Handle;State;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S142;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="StateEvent">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard refresh]]]></String>
          </Play>
        </Commands>
        <EEdge target="S141" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="26"/>
            <ControlPoint xPos="586" yPos="106" ctrlXPos="666" ctrlYPos="26"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="506" yPos="106"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="681" yPos="193"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N206" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S142" name="Get Next;Oldest;State Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N208;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S143" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
                <ControlPoint xPos="586" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[oldest(state, StateEvent).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N207" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N208" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N208" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S143" name="Check;Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S144" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="166"/>
                <ControlPoint xPos="626" yPos="106" ctrlXPos="626" ctrlYPos="126"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, user, ]]></String>
                <Variable name="StateEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S145" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="286"/>
                <ControlPoint xPos="626" yPos="346" ctrlXPos="626" ctrlYPos="326"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, agent, ]]></String>
                <Variable name="StateEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N209" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S144" name="Check;Event;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S146" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="66" ctrlXPos="486" ctrlYPos="66"/>
                <ControlPoint xPos="346" yPos="66" ctrlXPos="446" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, enter, ]]></String>
                <Variable name="StateEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S149" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="66" ctrlXPos="766" ctrlYPos="66"/>
                <ControlPoint xPos="906" yPos="66" ctrlXPos="806" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, leave, ]]></String>
                <Variable name="StateEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N211" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S145" name="Check;Event;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S148" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="386" ctrlXPos="486" ctrlYPos="386"/>
                <ControlPoint xPos="346" yPos="386" ctrlXPos="446" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, enter, ]]></String>
                <Variable name="StateEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <IEdge target="S147" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="386" ctrlXPos="766" ctrlYPos="386"/>
                <ControlPoint xPos="906" yPos="386" ctrlXPos="806" ctrlYPos="386"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, leave, ]]></String>
                <Variable name="StateEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="586" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N214" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S146" name="User;Enters;Dialog" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserPresent"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N215" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S147" name="Agent;Leaves;Dialog" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentPresent"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N217" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S148" name="Agent;Enters;Dialog" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentPresent"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="346"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N218" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S149" name="User;Leaves;Dialog" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserPresent"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <Graphics>
            <Position xPos="906" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N219" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S14" name="Handle;Action;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S14" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="1186" yPos="266" ctrlXPos="1186" ctrlYPos="186"/>
            <ControlPoint xPos="1226" yPos="266" ctrlXPos="1306" ctrlYPos="186"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="1146" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N17" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="26" yPos="26"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S124" name="Handle;Head;Events" comment="" hideLocalVar="false" hideGlobalVar="false" start="S136;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="HeadEvent">
            <String><![CDATA[]]></String>
          </Variable>
          <Variable type="String" name ="HeadData">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
        </Commands>
        <EEdge target="S124" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="1026" yPos="266" ctrlXPos="1026" ctrlYPos="186"/>
            <ControlPoint xPos="1066" yPos="266" ctrlXPos="1146" ctrlYPos="186"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="986" yPos="266"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="628" yPos="209"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N177" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="666" yPos="106"/>
          </Graphics>
        </Node>
        <SuperNode id="S133" name="Check;Event;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S164" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="66" ctrlXPos="446" ctrlYPos="66"/>
                <ControlPoint xPos="346" yPos="66" ctrlXPos="406" ctrlYPos="66"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(name, user, ]]></String>
                <Variable name="HeadEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="506" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N115" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S136" name="Get Next;Oldest;Head Event" comment="" hideLocalVar="false" hideGlobalVar="false" start="N126;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S161" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="346" yPos="226" ctrlXPos="406" ctrlYPos="226"/>
                <ControlPoint xPos="506" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[oldest(head, HeadEvent).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="266" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N123" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="26" yPos="186"/>
            </Graphics>
          </Node>
          <Node id="N126" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N126" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="76" yPos="267" ctrlXPos="96" ctrlYPos="189"/>
                <ControlPoint xPos="101" yPos="286" ctrlXPos="171" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="26" yPos="266"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S161" name="Get;Head;Data" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[val(data, HeadData, ]]></String>
                <Variable name="HeadEvent"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <EEdge target="S133" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="546" yPos="186" ctrlXPos="546" ctrlYPos="166"/>
              <ControlPoint xPos="546" yPos="106" ctrlXPos="546" ctrlYPos="126"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N139" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S164" name="New;Head;Name" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="UserHead"/>
              <Expression>
                <Variable name="HeadData"/>
              </Expression>
            </Assign>
            <PrologQuery>
            <Add>
              <Add>
                <String><![CDATA[signal(head, behavior, ]]></String>
                <Variable name="HeadData"/>
              </Add>
              <String><![CDATA[).]]></String>
            </Add>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="26"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N176" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S192" name="Planned;Dialog;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="S37;S36;S193;">
      <Define>
      </Define>
      <Declare>
        <Variable type="String" name ="Contribution">
          <String><![CDATA[]]></String>
        </Variable>
        <Variable type="String" name ="DialogScene">
          <String><![CDATA[]]></String>
        </Variable>
        <Variable type="String" name ="AbortScene">
          <String><![CDATA[]]></String>
        </Variable>
        <Variable type="String" name ="Addressee">
          <String><![CDATA[]]></String>
        </Variable>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="1066" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="736" yPos="328"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Comment>
        <Graphics>
          <Boundary xPos="248" yPos="318" width="226" height="79"/>
        </Graphics>
        <Text style="color:blue">
          The event with the scene comes from the dialog manager module which is informed about the dialog with the appropriate signals and state variables.
        </Text>
      </Comment>
      <Comment>
        <Graphics>
          <Boundary xPos="826" yPos="532" width="265" height="160"/>
        </Graphics>
        <Text style="color:blue">
          The agent should abort its behavior and interrupt itself in this case, so that we should send a signal here which causes the TTS abort in the dialog process. The role switch caused by the conquer signal causes the change of the role variable whose change causes the context switch in the dialog process. This context switch can only occur after the agent has interrupted itself.
        </Text>
      </Comment>
      <Comment>
        <Graphics>
          <Boundary xPos="893" yPos="83" width="228" height="105"/>
        </Graphics>
        <Text style="color:blue">
          If we get the next intended speaker together with the contribution, then we can decide to display an assign or a yield behavior and we can decide to signal an offer or a release signal in a multi-party interaction.
        </Text>
      </Comment>
      <Node id="N267" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="266" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S193" name="Await Answer;And Infer;Contribution" comment="" hideLocalVar="false" hideGlobalVar="false" start="S73;">
        <Define>
        </Define>
        <Declare>
          <Variable type="String" name ="Event">
            <String><![CDATA[]]></String>
          </Variable>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard output text=produce_awaiting_signal]]]></String>
          </Play>
          <PrologQuery>
          <String><![CDATA[signal(dialog, planner, awaiting).]]></String>
          </PrologQuery>
        </Commands>
        <EEdge target="S193" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="329" yPos="186" ctrlXPos="375" ctrlYPos="106"/>
            <ControlPoint xPos="346" yPos="215" ctrlXPos="426" ctrlYPos="193"/>
          </Connection>
        </Graphics>
        </EEdge>
        <IEdge target="S194" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="346" yPos="226" ctrlXPos="446" ctrlYPos="226"/>
              <ControlPoint xPos="586" yPos="226" ctrlXPos="486" ctrlYPos="226"/>
            </Connection>
          </Graphics>
          <PrologQuery>
          <String><![CDATA[remove(planner, dialog, Contribution).]]></String>
          </PrologQuery>
        </IEdge>
        <Graphics>
          <Position xPos="266" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="459" yPos="203"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Comment>
          <Graphics>
            <Boundary xPos="267" yPos="385" width="264" height="100"/>
          </Graphics>
          <Text style="color:blue">
            Detect, collect and disambiguate the user's last contribution, such as a speech act and move action and then infer the next contribution. Then plan an adequate response and signal the corresponding scene.
          </Text>
        </Comment>
        <Node id="N268" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <SuperNode id="S70" name="Handle;Action;Contribution" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="586" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N86" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S71" name="Handle;Speech;Contribution" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="586" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N88" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="0" yPos="0"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S73" name="Infer The;Last User;Contribution" comment="" hideLocalVar="false" hideGlobalVar="false" start="N92;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S71" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="397" yPos="186" ctrlXPos="415" ctrlYPos="119"/>
                <ControlPoint xPos="586" yPos="146" ctrlXPos="519" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(speech, dialog, Event).]]></String>
            </PrologQuery>
          </IEdge>
          <IEdge target="S70" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="397" yPos="266" ctrlXPos="415" ctrlYPos="332"/>
                <ControlPoint xPos="586" yPos="306" ctrlXPos="519" ctrlYPos="306"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(action, dialog, Event).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N91" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N92" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N92" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S194" name="Request;The Agent;Contribution" comment="" hideLocalVar="false" hideGlobalVar="false" start="N272;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard output text=produce_requested_signal]]]></String>
          </Play>
          <PrologQuery>
          <String><![CDATA[signal(dialog, role, request).]]></String>
          </PrologQuery>
          <PrologQuery>
          <String><![CDATA[signal(dialog, planner, requested).]]></String>
          </PrologQuery>
        </Commands>
        <IEdge target="S15" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="626" yPos="186" ctrlXPos="626" ctrlYPos="132"/>
              <ControlPoint xPos="506" yPos="66" ctrlXPos="559" ctrlYPos="66"/>
            </Connection>
          </Graphics>
          <PrologQuery>
          <String><![CDATA[remove(role, dialog, rejected).]]></String>
          </PrologQuery>
        </IEdge>
        <IEdge target="S195" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="626" yPos="266" ctrlXPos="626" ctrlYPos="319"/>
              <ControlPoint xPos="506" yPos="375" ctrlXPos="559" ctrlYPos="360"/>
            </Connection>
          </Graphics>
          <PrologQuery>
          <String><![CDATA[remove(role, dialog, accepted).]]></String>
          </PrologQuery>
        </IEdge>
        <Graphics>
          <Position xPos="586" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N270" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N272" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N272" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
              <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S195" name="Execute;The Agent;Contribution" comment="" hideLocalVar="false" hideGlobalVar="false" start="S158;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard output text=produce_accepted_signal]]]></String>
          </Play>
          <PrologQuery>
          <String><![CDATA[signal(dialog, planner, accepted).]]></String>
          </PrologQuery>
        </Commands>
        <EEdge target="S193" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="426" yPos="375" ctrlXPos="372" ctrlYPos="360"/>
            <ControlPoint xPos="306" yPos="266" ctrlXPos="306" ctrlYPos="319"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="426" yPos="346"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N271" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="266" yPos="266"/>
          </Graphics>
        </Node>
        <SuperNode id="S95" name="Signal;Agent Turn;Abort" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=produce_aborted_signal]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(dialog, planner, aborted).]]></String>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N347" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S158" name="Display;Planning;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentInterruptible"/>
              <Expression>
                <Bool value="true"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S163" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="346" yPos="146" ctrlXPos="486" ctrlYPos="146"/>
              <ControlPoint xPos="426" yPos="146" ctrlXPos="366" ctrlYPos="146"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="266" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N351" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S159" name="Handle;Interruption" comment="" hideLocalVar="false" hideGlobalVar="false" start="N353;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentInterruptible"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S45" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="306" ctrlXPos="566" ctrlYPos="306"/>
              <ControlPoint xPos="586" yPos="306" ctrlXPos="526" ctrlYPos="306"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="426" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N352" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N353" name="Start;Speaking" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentSpeaking"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
              <Play>
                <String><![CDATA[[wizard refresh]]]></String>
              </Play>
            </Commands>
            <EEdge target="N355" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="146" ctrlXPos="486" ctrlYPos="146"/>
                <ControlPoint xPos="586" yPos="146" ctrlXPos="526" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N354" name="Stop;Speaking" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentSpeaking"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Play>
                <String><![CDATA[[wizard refresh]]]></String>
              </Play>
            </Commands>
            <Graphics>
              <Position xPos="826" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N355" name="Play;Abort" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[val(abortscene, AbortScene, ]]></String>
                  <Variable name="Contribution"/>
                </Add>
                <String><![CDATA[).]]></String>
              </Add>
              </PrologQuery>
              <Play>
                <Add>
                  <Add>
                    <String><![CDATA[[wizard output text='playing_scene_]]></String>
                    <Variable name="AbortScene"/>
                  </Add>
                  <String><![CDATA[']]]></String>
                </Add>
              </Play>
            </Commands>
            <TEdge target="N354" start="" timeout="1000">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="146" ctrlXPos="726" ctrlYPos="146"/>
                <ControlPoint xPos="826" yPos="146" ctrlXPos="766" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            </TEdge>
            <Graphics>
              <Position xPos="586" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S160" name="Signal;Agent Turn;Stop" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Play>
              <String><![CDATA[[wizard output text=produce_finished_signal]]]></String>
            </Play>
            <PrologQuery>
            <String><![CDATA[signal(dialog, planner, finished).]]></String>
            </PrologQuery>
            <PrologQuery>
            <String><![CDATA[signal(dialog, role, release).]]></String>
            </PrologQuery>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N356" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S162" name="Display;Turn-Yield;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
            <Assign>
              <Variable name="AgentInterruptible"/>
              <Expression>
                <Bool value="false"/>
              </Expression>
            </Assign>
          </Commands>
          <EEdge target="S160" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="666" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
              <ControlPoint xPos="826" yPos="146" ctrlXPos="806" ctrlYPos="146"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N358" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S163" name="Execute;Contribution;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N362;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S162" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="146" ctrlXPos="566" ctrlYPos="146"/>
              <ControlPoint xPos="586" yPos="146" ctrlXPos="526" ctrlYPos="146"/>
            </Connection>
          </Graphics>
          </EEdge>
          <IEdge target="S159" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="466" yPos="186" ctrlXPos="466" ctrlYPos="206"/>
                <ControlPoint xPos="466" yPos="266" ctrlXPos="466" ctrlYPos="246"/>
              </Connection>
            </Graphics>
            <PrologQuery>
            <String><![CDATA[remove(dialog, dialog, cancel).]]></String>
            </PrologQuery>
          </IEdge>
          <Graphics>
            <Position xPos="426" yPos="106"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N359" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N360" name="Play;Scene" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <PrologQuery>
              <Add>
                <Add>
                  <String><![CDATA[val(dialogscene, DialogScene, ]]></String>
                  <Variable name="Contribution"/>
                </Add>
                <String><![CDATA[).]]></String>
              </Add>
              </PrologQuery>
              <Play>
                <Add>
                  <Add>
                    <String><![CDATA[[wizard output text=playing_scene_]]></String>
                    <Variable name="DialogScene"/>
                  </Add>
                  <String><![CDATA[]]]></String>
                </Add>
              </Play>
            </Commands>
            <TEdge target="N361" start="" timeout="30000">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
                <ControlPoint xPos="826" yPos="146" ctrlXPos="806" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            </TEdge>
            <Graphics>
              <Position xPos="586" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N361" name="Stop;Speaking" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentSpeaking"/>
                <Expression>
                  <Bool value="false"/>
                </Expression>
              </Assign>
              <Play>
                <String><![CDATA[[wizard refresh]]]></String>
              </Play>
            </Commands>
            <Graphics>
              <Position xPos="826" yPos="106"/>
            </Graphics>
          </Node>
          <Node id="N362" name="Start;Speaking" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
              <Assign>
                <Variable name="AgentSpeaking"/>
                <Expression>
                  <Bool value="true"/>
                </Expression>
              </Assign>
              <Play>
                <String><![CDATA[[wizard refresh]]]></String>
              </Play>
            </Commands>
            <EEdge target="N360" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="146" ctrlXPos="486" ctrlYPos="146"/>
                <ControlPoint xPos="586" yPos="146" ctrlXPos="526" ctrlYPos="146"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S45" name="Display;Turn-Abort;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="S95" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="666" yPos="306" ctrlXPos="686" ctrlYPos="306"/>
              <ControlPoint xPos="826" yPos="306" ctrlXPos="806" ctrlYPos="306"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="586" yPos="266"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N49" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S15" name="Produce;Rejected;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard output text=produce_rejected_signal]]]></String>
          </Play>
          <PrologQuery>
          <String><![CDATA[signal(dialog, planner, rejected).]]></String>
          </PrologQuery>
        </Commands>
        <EEdge target="S193" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="426" yPos="66" ctrlXPos="372" ctrlYPos="66"/>
            <ControlPoint xPos="306" yPos="186" ctrlXPos="306" ctrlYPos="132"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="426" yPos="26"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N33" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S36" name="Await;Interrupt;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N54;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S48" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="346" yPos="546" ctrlXPos="446" ctrlYPos="546"/>
              <ControlPoint xPos="586" yPos="546" ctrlXPos="486" ctrlYPos="546"/>
            </Connection>
          </Graphics>
          <PrologQuery>
          <String><![CDATA[remove(role, dialog, interrupted).]]></String>
          </PrologQuery>
        </IEdge>
        <Graphics>
          <Position xPos="266" yPos="506"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N36" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N54" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N54" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
              <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S37" name="Await;Interject;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="N60;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S49" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="346" yPos="706" ctrlXPos="446" ctrlYPos="706"/>
              <ControlPoint xPos="586" yPos="706" ctrlXPos="486" ctrlYPos="706"/>
            </Connection>
          </Graphics>
          <PrologQuery>
          <String><![CDATA[remove(role, dialog, interjected).]]></String>
          </PrologQuery>
        </IEdge>
        <Graphics>
          <Position xPos="266" yPos="666"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N47" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N60" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N60" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
              <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S48" name="Handle;Interrupt;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard output text=handle_interrupt]]]></String>
          </Play>
          <PrologQuery>
          <String><![CDATA[signal(dialog, dialog, cancel).]]></String>
          </PrologQuery>
        </Commands>
        <EEdge target="S36" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="586" yPos="557" ctrlXPos="486" ctrlYPos="584"/>
            <ControlPoint xPos="346" yPos="557" ctrlXPos="446" ctrlYPos="584"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="586" yPos="506"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N61" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="26" yPos="26"/>
          </Graphics>
        </Node>
      </SuperNode>
      <SuperNode id="S49" name="Handle;Interject;Signal" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
          <Play>
            <String><![CDATA[[wizard output text=handle_interject]]]></String>
          </Play>
        </Commands>
        <EEdge target="S37" start ="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="586" yPos="717" ctrlXPos="486" ctrlYPos="744"/>
            <ControlPoint xPos="346" yPos="717" ctrlXPos="446" ctrlYPos="744"/>
          </Connection>
        </Graphics>
        </EEdge>
        <Graphics>
          <Position xPos="586" yPos="666"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N62" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="0" yPos="0"/>
          </Graphics>
        </Node>
      </SuperNode>
    </SuperNode>
    <SuperNode id="S4" name="Automatic;Dialog;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="S197;">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="906" yPos="186"/>
      </Graphics>
      <LocalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </LocalVariableBadge>
      <GlobalVariableBadge>
        <Position xPos="10" yPos="10"/>
      </GlobalVariableBadge>
      <Node id="N42" name="History" history="true">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <Graphics>
          <Position xPos="346" yPos="26"/>
        </Graphics>
      </Node>
      <SuperNode id="S54" name="Execute;Participant;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="S191;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S197" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
              <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
            </Connection>
          </Graphics>
          <Or>
            <Eq>
              <Variable name="UserRole"/>
              <String><![CDATA[absent]]></String>
            </Eq>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[absent]]></String>
            </Eq>
          </Or>
        </IEdge>
        <Graphics>
          <Position xPos="506" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Comment>
          <Graphics>
            <Boundary xPos="397" yPos="353" width="301" height="96"/>
          </Graphics>
          <Text style="color:blue">
            We understand the bystander role in a dyadic interaction as the phases in which the participants are interacting with each other but no one currently wants to take on the speaker or addressee role which means that these roles are not negotiated.
          </Text>
        </Comment>
        <Node id="N66" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="826" yPos="186"/>
          </Graphics>
        </Node>
        <SuperNode id="S55" name="Execute;Speaker;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N43;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S191" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
                <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[bystander]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S196" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="409" yPos="186" ctrlXPos="466" ctrlYPos="86"/>
                <ControlPoint xPos="683" yPos="186" ctrlXPos="625" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[addressee]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="346" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="519" yPos="141"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N74" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N43" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N43" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S191" name="Execute;Bystander;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N128;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S55" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="506" yPos="266" ctrlXPos="486" ctrlYPos="286"/>
                <ControlPoint xPos="426" yPos="266" ctrlXPos="446" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[speaker]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S196" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="586" yPos="186" ctrlXPos="606" ctrlYPos="166"/>
                <ControlPoint xPos="666" yPos="186" ctrlXPos="646" ctrlYPos="166"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[addressee]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="506" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="514" yPos="130"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N127" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N128" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N128" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
        <SuperNode id="S196" name="Execute;Addressee;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N130;">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <IEdge target="S191" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="666" yPos="266" ctrlXPos="646" ctrlYPos="286"/>
                <ControlPoint xPos="586" yPos="266" ctrlXPos="606" ctrlYPos="286"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[bystander]]></String>
            </Eq>
          </IEdge>
          <IEdge target="S55" start="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="683" yPos="266" ctrlXPos="625" ctrlYPos="366"/>
                <ControlPoint xPos="409" yPos="266" ctrlXPos="466" ctrlYPos="366"/>
              </Connection>
            </Graphics>
            <Eq>
              <Variable name="AgentRole"/>
              <String><![CDATA[speaker]]></String>
            </Eq>
          </IEdge>
          <Graphics>
            <Position xPos="666" yPos="186"/>
          </Graphics>
          <LocalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </LocalVariableBadge>
          <GlobalVariableBadge>
            <Position xPos="10" yPos="10"/>
          </GlobalVariableBadge>
          <Node id="N129" name="History" history="true">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <Graphics>
              <Position xPos="346" yPos="26"/>
            </Graphics>
          </Node>
          <Node id="N130" name="Wait" history="false">
            <Define>
            </Define>
            <Declare>
            </Declare>
            <Commands>
            </Commands>
            <EEdge target="N130" start ="">
            <Graphics>
              <Connection>
                <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
                <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
              </Connection>
            </Graphics>
            </EEdge>
            <Graphics>
              <Position xPos="346" yPos="106"/>
            </Graphics>
          </Node>
        </SuperNode>
      </SuperNode>
      <SuperNode id="S197" name="Execute;Overhearer;Behavior" comment="" hideLocalVar="false" hideGlobalVar="false" start="N132;">
        <Define>
        </Define>
        <Declare>
        </Declare>
        <Commands>
        </Commands>
        <IEdge target="S54" start="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="426" yPos="186" ctrlXPos="446" ctrlYPos="166"/>
              <ControlPoint xPos="506" yPos="186" ctrlXPos="486" ctrlYPos="166"/>
            </Connection>
          </Graphics>
          <And>
            <Neq>
              <Variable name="UserRole"/>
              <String><![CDATA[absent]]></String>
            </Neq>
            <Neq>
              <Variable name="AgentRole"/>
              <String><![CDATA[absent]]></String>
            </Neq>
          </And>
        </IEdge>
        <Graphics>
          <Position xPos="346" yPos="186"/>
        </Graphics>
        <LocalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </LocalVariableBadge>
        <GlobalVariableBadge>
          <Position xPos="10" yPos="10"/>
        </GlobalVariableBadge>
        <Node id="N131" name="History" history="true">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <Graphics>
            <Position xPos="346" yPos="26"/>
          </Graphics>
        </Node>
        <Node id="N132" name="Wait" history="false">
          <Define>
          </Define>
          <Declare>
          </Declare>
          <Commands>
          </Commands>
          <EEdge target="N132" start ="">
          <Graphics>
            <Connection>
              <ControlPoint xPos="396" yPos="107" ctrlXPos="416" ctrlYPos="29"/>
              <ControlPoint xPos="421" yPos="126" ctrlXPos="491" ctrlYPos="86"/>
            </Connection>
          </Graphics>
          </EEdge>
          <Graphics>
            <Position xPos="346" yPos="106"/>
          </Graphics>
        </Node>
      </SuperNode>
    </SuperNode>
  </SuperNode>
  <SuperNode id="S57" name="Initialize;Agent;Engine" comment="" hideLocalVar="false" hideGlobalVar="false" start="N213;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <EEdge target="S56" start ="">
    <Graphics>
      <Connection>
        <ControlPoint xPos="506" yPos="146" ctrlXPos="526" ctrlYPos="146"/>
        <ControlPoint xPos="586" yPos="146" ctrlXPos="566" ctrlYPos="146"/>
      </Connection>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position xPos="426" yPos="106"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="2" yPos="1"/>
    </GlobalVariableBadge>
    <Node id="N210" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="346" yPos="26"/>
      </Graphics>
    </Node>
    <Node id="N212" name="Set User;And Agent;Position" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Play>
          <String><![CDATA[[tom WorldPosition x=1.5 y=3.75 z=10.9]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player WorldPosition x=2.5 y=3.75 z=6.5]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[tom SitDown chairname=meeting_seat_left]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player SitDown chairname=meeting_seat_right]]]></String>
        </Play>
      </Commands>
      <TEdge target="N216" start="" timeout="2500">
      <Graphics>
        <Connection>
          <ControlPoint xPos="586" yPos="146" ctrlXPos="686" ctrlYPos="146"/>
          <ControlPoint xPos="826" yPos="146" ctrlXPos="726" ctrlYPos="146"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="506" yPos="106"/>
      </Graphics>
    </Node>
    <Node id="N213" name="Await;TWorld;Startup" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <TEdge target="N212" start="" timeout="2500">
      <Graphics>
        <Connection>
          <ControlPoint xPos="426" yPos="146" ctrlXPos="446" ctrlYPos="146"/>
          <ControlPoint xPos="506" yPos="146" ctrlXPos="486" ctrlYPos="146"/>
        </Connection>
      </Graphics>
      </TEdge>
      <Graphics>
        <Position xPos="346" yPos="106"/>
      </Graphics>
    </Node>
    <Node id="N216" name="Set;Camera; And View" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
        <Play>
          <String><![CDATA[[player Scale value=0.9]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player Camera x=0.0 y=0.0]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player CameraOffset x=0 y=-0.1 z=0.0]]]></String>
        </Play>
        <Play>
          <String><![CDATA[[player FocalLength value=28.0 time=0.05]]]></String>
        </Play>
      </Commands>
      <Graphics>
        <Position xPos="826" yPos="106"/>
      </Graphics>
    </Node>
  </SuperNode>
  <SuperNode id="S39" name="Testing" comment="" hideLocalVar="false" hideGlobalVar="false" start="N77;">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
    </Commands>
    <Graphics>
      <Position xPos="266" yPos="26"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </GlobalVariableBadge>
    <Node id="N76" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="26" yPos="186"/>
      </Graphics>
    </Node>
    <Node id="N77" name="Timeout" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <CEdge target="N78" start="">
        <Graphics>
          <Connection>
            <ControlPoint xPos="266" yPos="226" ctrlXPos="326" ctrlYPos="226"/>
            <ControlPoint xPos="426" yPos="226" ctrlXPos="366" ctrlYPos="226"/>
          </Connection>
        </Graphics>
        <PrologQuery>
        <String><![CDATA[timeout(name, 3000).]]></String>
        </PrologQuery>
      </CEdge>
      <EEdge target="N77" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="236" yPos="187" ctrlXPos="256" ctrlYPos="109"/>
          <ControlPoint xPos="261" yPos="206" ctrlXPos="331" ctrlYPos="166"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="186" yPos="186"/>
      </Graphics>
    </Node>
    <Node id="N78" name="Repeat" history="false">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <EEdge target="N77" start ="">
      <Graphics>
        <Connection>
          <ControlPoint xPos="427" yPos="236" ctrlXPos="368" ctrlYPos="251"/>
          <ControlPoint xPos="265" yPos="236" ctrlXPos="323" ctrlYPos="251"/>
        </Connection>
      </Graphics>
      </EEdge>
      <Graphics>
        <Position xPos="426" yPos="186"/>
      </Graphics>
    </Node>
  </SuperNode>
  <SuperNode id="S18" name="Cleanup;Knowledge; Base" comment="" hideLocalVar="false" hideGlobalVar="false" start="">
    <Define>
    </Define>
    <Declare>
    </Declare>
    <Commands>
      <PrologQuery>
      <String><![CDATA[clean.]]></String>
      </PrologQuery>
      <Play>
        <String><![CDATA[[wizard output text=cleanup]]]></String>
      </Play>
    </Commands>
    <EEdge target="S56" start ="">
    <Graphics>
      <Connection>
        <ControlPoint xPos="346" yPos="146" ctrlXPos="446" ctrlYPos="146"/>
        <ControlPoint xPos="586" yPos="169" ctrlXPos="486" ctrlYPos="184"/>
      </Connection>
    </Graphics>
    </EEdge>
    <Graphics>
      <Position xPos="266" yPos="106"/>
    </Graphics>
    <LocalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </LocalVariableBadge>
    <GlobalVariableBadge>
      <Position xPos="10" yPos="10"/>
    </GlobalVariableBadge>
    <Node id="N41" name="History" history="true">
      <Define>
      </Define>
      <Declare>
      </Declare>
      <Commands>
      </Commands>
      <Graphics>
        <Position xPos="346" yPos="26"/>
      </Graphics>
    </Node>
  </SuperNode>
  <UserCommands>
    <UserCommand name="print" classname ="java.lang.System.err" method="println">
      <Argument name="text" type="java.lang.String"/>
    </UserCommand>
  </UserCommands>
  <ClassPath>
  </ClassPath>
  <InitContext></InitContext>
</SceneFlow>